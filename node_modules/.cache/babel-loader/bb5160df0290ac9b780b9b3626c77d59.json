{"remainingRequest":"D:\\2021graduate\\graduation\\node_modules\\babel-loader\\lib\\index.js!D:\\2021graduate\\graduation\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\2021graduate\\graduation\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\2021graduate\\graduation\\src\\views\\shangchuan.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\2021graduate\\graduation\\src\\views\\shangchuan.vue","mtime":1614520047642},{"path":"D:\\2021graduate\\graduation\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1594033213228},{"path":"D:\\2021graduate\\graduation\\node_modules\\babel-loader\\lib\\index.js","mtime":1594033213222},{"path":"D:\\2021graduate\\graduation\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1594033213228},{"path":"D:\\2021graduate\\graduation\\node_modules\\vue-loader\\lib\\index.js","mtime":1594033220124}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybCI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6LzIwMjFncmFkdWF0ZS9ncmFkdWF0aW9uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhdWRpb1VybDogJycsCiAgICAgIGZpbGVMaXN0OiBbXQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOS4iuS8oOmfs+mikQogICAgYmVmb3JlVXBsb2FkOiBmdW5jdGlvbiBiZWZvcmVVcGxvYWQoZmlsZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgaXNBdWRpbywgaXNMdDJNLCBwaWMsIF95aWVsZCRfdGhpcyRheGlvcyRwbywgcmVzOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAvLyDmlofku7bnsbvlnovov5vooYzliKTmlq0KICAgICAgICAgICAgICAgIGlzQXVkaW8gPSBmaWxlLnR5cGUgPT09ICdhdWRpby9tcDMnIHx8IGZpbGUudHlwZSA9PT0gJ2F1ZGlvL3dhdic7IC8vIOmZkOWItuS4iuS8oOaWh+S7tuWkp+WwjyAyTQoKICAgICAgICAgICAgICAgIGlzTHQyTSA9IGZpbGUuc2l6ZSAvIDEwMjQgLyAxMDI0IDwgMjsKCiAgICAgICAgICAgICAgICBpZiAoIWlzQXVkaW8pIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuZmlsZUxpc3QgPSBbXTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIGlmICghaXNMdDJNKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZmlsZUxpc3QgPSBbXTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghaXNBdWRpbykgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjQ7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghaXNMdDJNKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcGljID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgICAgICAgICAgICBwaWMuYXBwZW5kKCdhdWRpbycsIGZpbGUpOwogICAgICAgICAgICAgICAgcGljLmFwcGVuZCgnZmlsZW5hbWUnLCBmaWxlLm5hbWUpOwogICAgICAgICAgICAgICAgcGljLmFwcGVuZCgndXNlcm5hbWUnLCB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgndXNlcm5hbWUnKSk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuYXhpb3MucG9zdCgnL1VwYXVkaW8nLCBwaWMpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgX3lpZWxkJF90aGlzJGF4aW9zJHBvID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIHJlcyA9IF95aWVsZCRfdGhpcyRheGlvcyRwby5kYXRhOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKCiAgICAgICAgICAgICAgICBpZiAoIShyZXMuc3RhdHVzICE9PSAnMScpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgX3RoaXMuJG1lc3NhZ2UuZXJyb3IoJ+S4iuS8oOWksei0pScpKTsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+aIkOWKnycpOwoKICAgICAgICAgICAgICAgIF90aGlzLmF1ZGlvVXJsID0gcmVzLnVybDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF90aGlzLmF1ZGlvVXJsKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDIxOgogICAgICAgICAgICAgICAgX3RoaXMuJG1lc3NhZ2UuZXJyb3IoJ+S4iuS8oOaWh+S7tuWkp+Wwj+S4jeiDvei2hei/hyAyTUIhJyk7CgogICAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjU7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyNDoKICAgICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlLmVycm9yKCfkuIrkvKDmlofku7blj6rog73mmK9NcDPmiJbogIVXYXbmoLzlvI8hJyk7CgogICAgICAgICAgICAgIGNhc2UgMjU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgaGFuZGxlQXZhdGFyU3VjY2VzczogZnVuY3Rpb24gaGFuZGxlQXZhdGFyU3VjY2VzcyhyZXMsIGZpbGUpIHsKICAgICAgdGhpcy5hdWRpb1VybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZS5yYXcpOwogICAgICBjb25zb2xlLmxvZyh0aGlzLmF1ZGlvVXJsKTsKICAgIH0sCiAgICBnZXRUaW1lczogZnVuY3Rpb24gZ2V0VGltZXMoZmlsZSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciBjb250ZW50ID0gZmlsZTsgLy8g6I635Y+W5b2V6Z+z5pe26ZW/CgogICAgICB2YXIgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChjb250ZW50KTsgLy8g57uP5rWL6K+V77yM5Y+R546wYXVkaW/kuZ/lj6/ojrflj5bop4bpopHnmoTml7bplb8KCiAgICAgIHZhciBhdWRpb0VsZW1lbnQgPSBuZXcgQXVkaW8odXJsKTsKICAgICAgYXVkaW9FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWRlZG1ldGFkYXRhJywgZnVuY3Rpb24gKF9ldmVudCkgewogICAgICAgIF90aGlzMi5hdWRpb0R1cmF0aW9uID0gcGFyc2VJbnQoYXVkaW9FbGVtZW50LmR1cmF0aW9uKTsKICAgICAgICBjb25zb2xlLmxvZyhfdGhpczIuYXVkaW9EdXJhdGlvbik7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["shangchuan.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA;AAFA,KAAA;AAIA,GANA;AAOA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,YAFA,wBAEA,IAFA,EAEA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AACA;AACA,gBAAA,OAFA,GAEA,IAAA,CAAA,IAAA,KAAA,WAAA,IAAA,IAAA,CAAA,IAAA,KAAA,WAFA,EAGA;;AACA,gBAAA,MAJA,GAIA,IAAA,CAAA,IAAA,GAAA,IAAA,GAAA,IAAA,GAAA,CAJA;;AAKA,oBAAA,CAAA,OAAA,EAAA;AACA,kBAAA,KAAA,CAAA,QAAA,GAAA,EAAA;AACA,iBAFA,MAEA;AACA,sBAAA,CAAA,MAAA,EAAA;AACA,oBAAA,KAAA,CAAA,QAAA,GAAA,EAAA;AACA;AACA;;AAXA,qBAYA,OAZA;AAAA;AAAA;AAAA;;AAAA,qBAaA,MAbA;AAAA;AAAA;AAAA;;AAcA,gBAAA,GAdA,GAcA,IAAA,QAAA,EAdA;AAeA,gBAAA,GAAA,CAAA,MAAA,CAAA,OAAA,EAAA,IAAA;AACA,gBAAA,GAAA,CAAA,MAAA,CAAA,UAAA,EAAA,IAAA,CAAA,IAAA;AACA,gBAAA,GAAA,CAAA,MAAA,CAAA,UAAA,EAAA,MAAA,CAAA,cAAA,CAAA,OAAA,CAAA,UAAA,CAAA;AAjBA;AAAA,uBAkBA,KAAA,CAAA,KAAA,CAAA,IAAA,CAAA,UAAA,EAAA,GAAA,CAlBA;;AAAA;AAAA;AAkBA,gBAAA,GAlBA,yBAkBA,IAlBA;AAmBA,gBAAA,OAAA,CAAA,GAAA,CAAA,GAAA;;AAnBA,sBAoBA,GAAA,CAAA,MAAA,KAAA,GApBA;AAAA;AAAA;AAAA;;AAAA,iDAoBA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA,MAAA,CApBA;;AAAA;AAqBA,gBAAA,KAAA,CAAA,QAAA,CAAA,OAAA,CAAA,IAAA;;AACA,gBAAA,KAAA,CAAA,QAAA,GAAA,GAAA,CAAA,GAAA;AACA,gBAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA,QAAA;AAvBA;AAAA;;AAAA;AAyBA,gBAAA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA,iBAAA;;AAzBA;AAAA;AAAA;;AAAA;AA4BA,gBAAA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA,oBAAA;;AA5BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA8BA,KAhCA;AAiCA,IAAA,mBAjCA,+BAiCA,GAjCA,EAiCA,IAjCA,EAiCA;AACA,WAAA,QAAA,GAAA,GAAA,CAAA,eAAA,CAAA,IAAA,CAAA,GAAA,CAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA,QAAA;AACA,KApCA;AAqCA,IAAA,QArCA,oBAqCA,IArCA,EAqCA;AAAA;;AACA,UAAA,OAAA,GAAA,IAAA,CADA,CAEA;;AACA,UAAA,GAAA,GAAA,GAAA,CAAA,eAAA,CAAA,OAAA,CAAA,CAHA,CAIA;;AACA,UAAA,YAAA,GAAA,IAAA,KAAA,CAAA,GAAA,CAAA;AACA,MAAA,YAAA,CAAA,gBAAA,CAAA,gBAAA,EAAA,UAAA,MAAA,EAAA;AACA,QAAA,MAAA,CAAA,aAAA,GAAA,QAAA,CAAA,YAAA,CAAA,QAAA,CAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,MAAA,CAAA,aAAA;AACA,OAHA;AAIA;AA/CA;AAPA,CAAA","sourcesContent":["<template>\n  <div class=\"box\">\n    <div class=\"upload\">\n      <el-upload\n        class=\"upload-demo\"\n        drag\n        action=\"null\"\n        multiple\n        :show-file-list=\"false\"\n        :on-success=\"handleAvatarSuccess\"\n        :before-upload=\"beforeUpload\">\n        <i class=\"el-icon-upload\"></i>\n        <div class=\"el-upload__text\">将文件拖到此处，或<em>点击上传</em></div>\n        <div class=\"el-upload__tip\" slot=\"tip\">只能上传mp3/wav文件</div>\n      </el-upload>\n      <audio :src=\"audioUrl\"  controls muted=\"muted\"></audio>\n    </div>\n    <div class=\"search_button\">\n      <el-button type=\"primary\"> 降噪处理 </el-button>\n    </div>\n    <div class=\"bottom\">\n      <h4>北京市海淀区 ｜ 北京交通大学 ｜ 软件工程1704 ｜ 张雨梦</h4>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data () {\n    return {\n      audioUrl: '',\n      fileList: []\n    }\n  },\n  methods: {\n    // 上传音频\n    async beforeUpload (file) {\n      // 文件类型进行判断\n      const isAudio = file.type === 'audio/mp3' || file.type === 'audio/wav'\n      // 限制上传文件大小 2M\n      const isLt2M = file.size / 1024 / 1024 < 2\n      if (!isAudio) {\n        this.fileList = []\n      } else {\n        if (!isLt2M) {\n          this.fileList = []\n        }\n      }\n      if (isAudio) {\n        if (isLt2M) {\n          const pic = new FormData()\n          pic.append('audio', file)\n          pic.append('filename', file.name)\n          pic.append('username', window.sessionStorage.getItem('username'))\n          const { data: res } = await this.axios.post('/Upaudio', pic)\n          console.log(res)\n          if (res.status !== '1') return this.$message.error('上传失败')\n          this.$message.success('成功')\n          this.audioUrl = res.url\n          console.log(this.audioUrl)\n        } else {\n          this.$message.error('上传文件大小不能超过 2MB!')\n        }\n      } else {\n        this.$message.error('上传文件只能是Mp3或者Wav格式!')\n      }\n    },\n    handleAvatarSuccess (res, file) {\n      this.audioUrl = URL.createObjectURL(file.raw)\n      console.log(this.audioUrl)\n    },\n    getTimes (file) {\n      var content = file\n      // 获取录音时长\n      var url = URL.createObjectURL(content)\n      // 经测试，发现audio也可获取视频的时长\n      var audioElement = new Audio(url)\n      audioElement.addEventListener('loadedmetadata', (_event) => {\n        this.audioDuration = parseInt(audioElement.duration)\n        console.log(this.audioDuration)\n      })\n    }\n\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.el-header, .el-footer {\n  background-color: #B3C0D1;\n  color: #333;\n  text-align: center;\n  line-height: 60px;\n}\n\n.el-aside {\n  background-color: #D3DCE6;\n  color: #333;\n  text-align: center;\n  line-height: 200px;\n}\n\n.upload {\n  background-color: #E9EEF3;\n  text-align: center;\n  padding-top: 100px;\n  padding-bottom: 100px;\n}\n.search_button {\n  background-color: #E9EEF3;\n  text-align: center;\n  padding-top: -500px;\n}\n.bottom {\n  background-color: #E9EEF3;\n  text-align: right;\n  padding-top: 100px;\n  padding-right: 50px;\n  padding-bottom: 20px;\n}\n</style>\n"],"sourceRoot":"src/views"}]}