{"remainingRequest":"D:\\2021graduate\\graduation\\node_modules\\babel-loader\\lib\\index.js!D:\\2021graduate\\graduation\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\2021graduate\\graduation\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\2021graduate\\graduation\\node_modules\\mint-ui\\packages\\index-list\\src\\index-list.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\2021graduate\\graduation\\node_modules\\mint-ui\\packages\\index-list\\src\\index-list.vue","mtime":1611497133402},{"path":"D:\\2021graduate\\graduation\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1594033213228},{"path":"D:\\2021graduate\\graduation\\node_modules\\babel-loader\\lib\\index.js","mtime":1594033213222},{"path":"D:\\2021graduate\\graduation\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1594033213228},{"path":"D:\\2021graduate\\graduation\\node_modules\\vue-loader\\lib\\index.js","mtime":1594033220124}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdtdC1pbmRleC1saXN0JywKICBwcm9wczogewogICAgaGVpZ2h0OiBOdW1iZXIsCiAgICBzaG93SW5kaWNhdG9yOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHRydWUKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzZWN0aW9uczogW10sCiAgICAgIG5hdldpZHRoOiAwLAogICAgICBpbmRpY2F0b3JUaW1lOiBudWxsLAogICAgICBtb3Zpbmc6IGZhbHNlLAogICAgICBmaXJzdFNlY3Rpb246IG51bGwsCiAgICAgIGN1cnJlbnRJbmRpY2F0b3I6ICcnLAogICAgICBjdXJyZW50SGVpZ2h0OiB0aGlzLmhlaWdodCwKICAgICAgbmF2T2Zmc2V0WDogMAogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICBzZWN0aW9uczogZnVuY3Rpb24gc2VjdGlvbnMoKSB7CiAgICAgIHRoaXMuaW5pdCgpOwogICAgfSwKICAgIGhlaWdodDogZnVuY3Rpb24gaGVpZ2h0KHZhbCkgewogICAgICBpZiAodmFsKSB7CiAgICAgICAgdGhpcy5jdXJyZW50SGVpZ2h0ID0gdmFsOwogICAgICB9CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBpbml0OiBmdW5jdGlvbiBpbml0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLm5hdldpZHRoID0gX3RoaXMuJHJlZnMubmF2LmNsaWVudFdpZHRoOwogICAgICB9KTsKICAgICAgdmFyIGxpc3RJdGVtcyA9IHRoaXMuJHJlZnMuY29udGVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbGknKTsKCiAgICAgIGlmIChsaXN0SXRlbXMubGVuZ3RoID4gMCkgewogICAgICAgIHRoaXMuZmlyc3RTZWN0aW9uID0gbGlzdEl0ZW1zWzBdOwogICAgICB9CiAgICB9LAogICAgaGFuZGxlVG91Y2hTdGFydDogZnVuY3Rpb24gaGFuZGxlVG91Y2hTdGFydChlKSB7CiAgICAgIGlmIChlLnRhcmdldC50YWdOYW1lICE9PSAnTEknKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLm5hdk9mZnNldFggPSBlLmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFg7CiAgICAgIHRoaXMuc2Nyb2xsTGlzdChlLmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFkpOwoKICAgICAgaWYgKHRoaXMuaW5kaWNhdG9yVGltZSkgewogICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmluZGljYXRvclRpbWUpOwogICAgICB9CgogICAgICB0aGlzLm1vdmluZyA9IHRydWU7CiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLmhhbmRsZVRvdWNoTW92ZSk7CiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMuaGFuZGxlVG91Y2hFbmQpOwogICAgfSwKICAgIGhhbmRsZVRvdWNoTW92ZTogZnVuY3Rpb24gaGFuZGxlVG91Y2hNb3ZlKGUpIHsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB0aGlzLnNjcm9sbExpc3QoZS5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRZKTsKICAgIH0sCiAgICBoYW5kbGVUb3VjaEVuZDogZnVuY3Rpb24gaGFuZGxlVG91Y2hFbmQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5pbmRpY2F0b3JUaW1lID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMyLm1vdmluZyA9IGZhbHNlOwogICAgICAgIF90aGlzMi5jdXJyZW50SW5kaWNhdG9yID0gJyc7CiAgICAgIH0sIDUwMCk7CiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLmhhbmRsZVRvdWNoTW92ZSk7CiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMuaGFuZGxlVG91Y2hFbmQpOwogICAgfSwKICAgIHNjcm9sbExpc3Q6IGZ1bmN0aW9uIHNjcm9sbExpc3QoeSkgewogICAgICB2YXIgY3VycmVudEl0ZW0gPSBkb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KHRoaXMubmF2T2Zmc2V0WCwgeSk7CgogICAgICBpZiAoIWN1cnJlbnRJdGVtIHx8ICFjdXJyZW50SXRlbS5jbGFzc0xpc3QuY29udGFpbnMoJ21pbnQtaW5kZXhsaXN0LW5hdml0ZW0nKSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy5jdXJyZW50SW5kaWNhdG9yID0gY3VycmVudEl0ZW0uaW5uZXJUZXh0OwogICAgICB2YXIgdGFyZ2V0cyA9IHRoaXMuc2VjdGlvbnMuZmlsdGVyKGZ1bmN0aW9uIChzZWN0aW9uKSB7CiAgICAgICAgcmV0dXJuIHNlY3Rpb24uaW5kZXggPT09IGN1cnJlbnRJdGVtLmlubmVyVGV4dDsKICAgICAgfSk7CiAgICAgIHZhciB0YXJnZXRET007CgogICAgICBpZiAodGFyZ2V0cy5sZW5ndGggPiAwKSB7CiAgICAgICAgdGFyZ2V0RE9NID0gdGFyZ2V0c1swXS4kZWw7CiAgICAgICAgdGhpcy4kcmVmcy5jb250ZW50LnNjcm9sbFRvcCA9IHRhcmdldERPTS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgLSB0aGlzLmZpcnN0U2VjdGlvbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7CiAgICAgIH0KICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICBpZiAoIXRoaXMuY3VycmVudEhlaWdodCkgewogICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7CiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMzLmN1cnJlbnRIZWlnaHQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0IC0gX3RoaXMzLiRyZWZzLmNvbnRlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wOwogICAgICB9KTsKICAgIH0KCiAgICB0aGlzLmluaXQoKTsKICB9Cn07"},{"version":3,"sources":["index-list.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"mint-indexlist\">\n    <ul class=\"mint-indexlist-content\" ref=\"content\" :style=\"{ 'height': currentHeight + 'px', 'margin-right': navWidth + 'px'}\">\n      <slot></slot>\n    </ul>\n    \n    <div class=\"mint-indexlist-nav\" @touchstart=\"handleTouchStart\" ref=\"nav\">\n      <ul class=\"mint-indexlist-navlist\">\n        <li class=\"mint-indexlist-navitem\" v-for=\"section in sections\">{{ section.index }}</li>\n      </ul>\n    </div>\n    \n    <div class=\"mint-indexlist-indicator\" v-if=\"showIndicator\" v-show=\"moving\">{{ currentIndicator }}</div>\n  </div>\n</template>\n\n<style lang=\"css\">\n  @import \"../../../src/style/var.css\";\n\n  @component-namespace mint {\n    @component indexlist {\n      width: 100%;\n      position: relative;\n      overflow: hidden;\n      \n      @descendent content {\n        margin: 0;\n        padding: 0;\n        overflow: auto;\n      }\n      \n      @descendent nav {\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        right: 0;\n        margin: 0;\n        background-color: #fff;\n        border-left: solid 1px #ddd;\n        text-align: center;\n        max-height: 100%;\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n      }\n      \n      @descendent navlist {\n        padding: 0;\n        margin: 0;\n        list-style: none;\n        max-height: 100%;\n        display: flex;\n        flex-direction: column;\n      }\n      \n      @descendent navitem {\n        padding: 2px 6px;\n        font-size: 12px;\n        user-select: none;\n        -webkit-touch-callout: none;\n      }\n      \n      @descendent indicator {\n        position: absolute;\n        size: 50px;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        text-align: center;\n        line-height: 50px;\n        background-color: rgba(0, 0, 0, .7);\n        border-radius: 5px;\n        color: #fff;\n        font-size: 22px;\n      }\n    }\n  }\n</style>\n\n<script type=\"text/babel\">\n  export default {\n    name: 'mt-index-list',\n\n    props: {\n      height: Number,\n      showIndicator: {\n        type: Boolean,\n        default: true\n      }\n    },\n\n    data() {\n      return {\n        sections: [],\n        navWidth: 0,\n        indicatorTime: null,\n        moving: false,\n        firstSection: null,\n        currentIndicator: '',\n        currentHeight: this.height,\n        navOffsetX: 0\n      };\n    },\n\n    watch: {\n      sections() {\n        this.init();\n      },\n      height(val) {\n        if (val) {\n          this.currentHeight = val;\n        }\n      }\n    },\n\n    methods: {\n      init() {\n        this.$nextTick(() => {\n          this.navWidth = this.$refs.nav.clientWidth;\n        });\n        let listItems = this.$refs.content.getElementsByTagName('li');\n        if (listItems.length > 0) {\n          this.firstSection = listItems[0];\n        }\n      },\n\n      handleTouchStart(e) {\n        if (e.target.tagName !== 'LI') {\n          return;\n        }\n        this.navOffsetX = e.changedTouches[0].clientX;\n        this.scrollList(e.changedTouches[0].clientY);\n        if (this.indicatorTime) {\n          clearTimeout(this.indicatorTime);\n        }\n        this.moving = true;\n        window.addEventListener('touchmove', this.handleTouchMove);\n        window.addEventListener('touchend', this.handleTouchEnd);\n      },\n\n      handleTouchMove(e) {\n        e.preventDefault();\n        this.scrollList(e.changedTouches[0].clientY);\n      },\n\n      handleTouchEnd() {\n        this.indicatorTime = setTimeout(() => {\n          this.moving = false;\n          this.currentIndicator = '';\n        }, 500);\n        window.removeEventListener('touchmove', this.handleTouchMove);\n        window.removeEventListener('touchend', this.handleTouchEnd);\n      },\n\n      scrollList(y) {\n        let currentItem = document.elementFromPoint(this.navOffsetX, y);\n        if (!currentItem || !currentItem.classList.contains('mint-indexlist-navitem')) {\n          return;\n        }\n        this.currentIndicator = currentItem.innerText;\n        let targets = this.sections.filter(section => section.index === currentItem.innerText);\n        let targetDOM;\n        if (targets.length > 0) {\n          targetDOM = targets[0].$el;\n          this.$refs.content.scrollTop = targetDOM.getBoundingClientRect().top - this.firstSection.getBoundingClientRect().top;\n        }\n      }\n    },\n\n    mounted() {\n      if (!this.currentHeight) {\n        window.scrollTo(0, 0);\n        requestAnimationFrame(()=>{\n          this.currentHeight = document.documentElement.clientHeight - this.$refs.content.getBoundingClientRect().top;\n        });\n      }\n      this.init();\n    }\n  };\n</script>\n"],"sourceRoot":"node_modules/mint-ui/packages/index-list/src"}]}