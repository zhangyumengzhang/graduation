{"remainingRequest":"D:\\2021graduate\\graduation\\node_modules\\babel-loader\\lib\\index.js!D:\\2021graduate\\graduation\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\2021graduate\\graduation\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\2021graduate\\graduation\\src\\views\\newrnn.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\2021graduate\\graduation\\src\\views\\newrnn.vue","mtime":1616900676926},{"path":"D:\\2021graduate\\graduation\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1594033213228},{"path":"D:\\2021graduate\\graduation\\node_modules\\babel-loader\\lib\\index.js","mtime":1594033213222},{"path":"D:\\2021graduate\\graduation\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1594033213228},{"path":"D:\\2021graduate\\graduation\\node_modules\\vue-loader\\lib\\index.js","mtime":1594033220124}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybCI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6LzIwMjFncmFkdWF0ZS9ncmFkdWF0aW9uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhdWRpb1VybDogJycsCiAgICAgIG5ld2F1ZGlvVXJsOiAnJywKICAgICAgZmlsZUxpc3Q6IFtdLAogICAgICBmaWxlbmFtZTogJycKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDkuIrkvKDpn7PpopEKICAgIGJlZm9yZVVwbG9hZDogZnVuY3Rpb24gYmVmb3JlVXBsb2FkKGZpbGUpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGlzQXVkaW8sIGlzTHQ0TSwgYXVkaW9maWxlLCBfeWllbGQkX3RoaXMkYXhpb3MkcG8sIHJlczsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgLy8g5paH5Lu257G75Z6L6L+b6KGM5Yik5patCiAgICAgICAgICAgICAgICBfdGhpcy4kbWVzc2FnZS5lcnJvcihmaWxlLnR5cGUpOwoKICAgICAgICAgICAgICAgIGlzQXVkaW8gPSBmaWxlLnR5cGUgPT09ICdhdWRpby9tcDMnIHx8IGZpbGUudHlwZSA9PT0gJ2F1ZGlvL3dhdic7IC8vIOmZkOWItuS4iuS8oOaWh+S7tuWkp+WwjyA0TQoKICAgICAgICAgICAgICAgIGlzTHQ0TSA9IGZpbGUuc2l6ZSAvIDEwMjQgLyAxMDI0IDwgNDsKCiAgICAgICAgICAgICAgICBpZiAoIWlzQXVkaW8pIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuZmlsZUxpc3QgPSBbXTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIGlmICghaXNMdDRNKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZmlsZUxpc3QgPSBbXTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghaXNBdWRpbykgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghaXNMdDRNKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgYXVkaW9maWxlID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgICAgICAgICAgICBfdGhpcy5maWxlbmFtZSA9IGZpbGUubmFtZTsKICAgICAgICAgICAgICAgIGF1ZGlvZmlsZS5hcHBlbmQoJ2F1ZGlvJywgZmlsZSk7CiAgICAgICAgICAgICAgICBhdWRpb2ZpbGUuYXBwZW5kKCdmaWxlbmFtZScsIGZpbGUubmFtZSk7CiAgICAgICAgICAgICAgICBhdWRpb2ZpbGUuYXBwZW5kKCd1c2VybmFtZScsIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd1c2VybmFtZScpKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5heGlvcy5wb3N0KCcvVXBhdWRpbycsIGF1ZGlvZmlsZSk7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICBfeWllbGQkX3RoaXMkYXhpb3MkcG8gPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgcmVzID0gX3lpZWxkJF90aGlzJGF4aW9zJHBvLmRhdGE7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwoKICAgICAgICAgICAgICAgIGlmICghKHJlcy5zdGF0dXMgIT09ICcxJykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE4OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBfdGhpcy4kbWVzc2FnZS5lcnJvcign5LiK5Lyg5aSx6LSlJykpOwoKICAgICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgICAgX3RoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5oiQ5YqfJyk7CgogICAgICAgICAgICAgICAgX3RoaXMuYXVkaW9VcmwgPSByZXMudXJsOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coX3RoaXMuYXVkaW9VcmwpOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI0OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjM6CiAgICAgICAgICAgICAgICBfdGhpcy4kbWVzc2FnZS5lcnJvcign5LiK5Lyg5paH5Lu25aSn5bCP5LiN6IO96LaF6L+HIDJNQiEnKTsKCiAgICAgICAgICAgICAgY2FzZSAyNDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyNzsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDI2OgogICAgICAgICAgICAgICAgX3RoaXMuJG1lc3NhZ2UuZXJyb3IoJ+S4iuS8oOaWh+S7tuWPquiDveaYr01wM+aIluiAhVdhduagvOW8jycpOwoKICAgICAgICAgICAgICBjYXNlIDI3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGhhbmRsZUF2YXRhclN1Y2Nlc3M6IGZ1bmN0aW9uIGhhbmRsZUF2YXRhclN1Y2Nlc3MocmVzLCBmaWxlKSB7CiAgICAgIHRoaXMuYXVkaW9VcmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUucmF3KTsKICAgICAgY29uc29sZS5sb2codGhpcy5hdWRpb1VybCk7CiAgICB9LAogICAgZ2V0VGltZXM6IGZ1bmN0aW9uIGdldFRpbWVzKGZpbGUpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgY29udGVudCA9IGZpbGU7IC8vIOiOt+WPluW9lemfs+aXtumVvwoKICAgICAgdmFyIHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoY29udGVudCk7IC8vIOe7j+a1i+ivle+8jOWPkeeOsGF1ZGlv5Lmf5Y+v6I635Y+W6KeG6aKR55qE5pe26ZW/CgogICAgICB2YXIgYXVkaW9FbGVtZW50ID0gbmV3IEF1ZGlvKHVybCk7CiAgICAgIGF1ZGlvRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdsb2FkZWRtZXRhZGF0YScsIGZ1bmN0aW9uIChfZXZlbnQpIHsKICAgICAgICBfdGhpczIuYXVkaW9EdXJhdGlvbiA9IHBhcnNlSW50KGF1ZGlvRWxlbWVudC5kdXJhdGlvbik7CiAgICAgICAgY29uc29sZS5sb2coX3RoaXMyLmF1ZGlvRHVyYXRpb24pOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDpmY3lmarlpITnkIYKICAgIHJubjogZnVuY3Rpb24gcm5uKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBhdWRpbywgX3lpZWxkJF90aGlzMyRheGlvcyRwLCByZXM7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBhdWRpbyA9IG5ldyBGb3JtRGF0YSgpOwogICAgICAgICAgICAgICAgYXVkaW8uYXBwZW5kKCdwYXRoJywgX3RoaXMzLmF1ZGlvVXJsKTsKICAgICAgICAgICAgICAgIGF1ZGlvLmFwcGVuZCgndXNlcm5hbWUnLCB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgndXNlcm5hbWUnKSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLmF4aW9zLnBvc3QoJy9ybm4nLCBhdWRpbyk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIF95aWVsZCRfdGhpczMkYXhpb3MkcCA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgcmVzID0gX3lpZWxkJF90aGlzMyRheGlvcyRwLmRhdGE7CgogICAgICAgICAgICAgICAgaWYgKCEocmVzLnN0YXR1cyAhPT0gJzEnKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDk7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBfdGhpczMuJG1lc3NhZ2UuZXJyb3IoJ+mZjeWZquWksei0pScpKTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgX3RoaXMzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+aIkOWKnycpOwoKICAgICAgICAgICAgICAgIF90aGlzMy5uZXdhdWRpb1VybCA9IHJlcy51cmw7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfdGhpczMubmV3YXVkaW9VcmwpOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["newrnn.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"box\">\n      <!-- 面包屑导航区域\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n      <el-breadcrumb-item :to=\"{ path: '/welcome' }\" @click=\"savenav\">首页</el-breadcrumb-item>\n      <el-breadcrumb-item>音频降噪</el-breadcrumb-item>\n    </el-breadcrumb> -->\n    <!-- 卡片视图区域 -->\n <el-card class=\"box-card\">\n    <div class=\"upload\">\n      <el-upload\n        class=\"upload-demo\"\n        drag\n        action=\"null\"\n        multiple\n        :show-file-list=\"false\"\n        :on-success=\"handleAvatarSuccess\"\n        :before-upload=\"beforeUpload\">\n        <i class=\"el-icon-upload\"></i>\n        <div class=\"el-upload__text\">将文件拖到此处，或<em>点击上传</em></div>\n        <div class=\"el-upload__tip\" slot=\"tip\">只能上传mp3/wav文件</div>\n      </el-upload>\n      <div class=\"audio\">\n        {{this.filename}}\n      </div>\n      <audio class=\"audio\" :src=\"audioUrl\"  controls muted=\"muted\"></audio>\n      <div class=\"button\">\n      <el-button type=\"primary\" round @click=\"rnn()\"> 降噪处理 </el-button>\n    </div>\n    <div class=\"audio\">\n       <audio class=\"audio\" :src=\"newaudioUrl\"  controls muted=\"muted\"></audio>\n    </div>\n    </div>\n </el-card>\n     <div class=\"bottom\">\n      <h4>北京市海淀区 ｜ 北京交通大学 ｜ 软件工程1704 ｜ 张雨梦</h4>\n    </div>\n  </div>\n</template>\n\n<script type=\"text/javascript\">\nvar audios = document.getElementsByTagName('audio')\n// 暂停函数\nfunction pauseAll () {\n  var self = this;\n  [].forEach.call(audios, function (i) {\n    // 将audios中其他的audio全部暂停\n    i !== self && i.pause()\n  })\n}\n// 给play事件绑定暂停函数\n[].forEach.call(audios, function (i) {\n  i.addEventListener('play', pauseAll.bind(i))\n})\n</script>\n<script>\nexport default {\n  data () {\n    return {\n      audioUrl: '',\n      newaudioUrl: '',\n      fileList: [],\n      filename: ''\n    }\n  },\n\n  methods: {\n    // 上传音频\n    async beforeUpload (file) {\n      // 文件类型进行判断\n      this.$message.error(file.type)\n      const isAudio = file.type === 'audio/mp3' || file.type === 'audio/wav'\n      // 限制上传文件大小 4M\n      const isLt4M = file.size / 1024 / 1024 < 4\n      if (!isAudio) {\n        this.fileList = []\n      } else {\n        if (!isLt4M) {\n          this.fileList = []\n        }\n      }\n      if (isAudio) {\n        if (isLt4M) {\n          const audiofile = new FormData()\n          this.filename = file.name\n          audiofile.append('audio', file)\n          audiofile.append('filename', file.name)\n          audiofile.append('username', window.sessionStorage.getItem('username'))\n          const { data: res } = await this.axios.post('/Upaudio', audiofile)\n          console.log(res)\n          if (res.status !== '1') return this.$message.error('上传失败')\n          this.$message.success('成功')\n          this.audioUrl = res.url\n          console.log(this.audioUrl)\n        } else {\n          this.$message.error('上传文件大小不能超过 2MB!')\n        }\n      } else {\n        this.$message.error('上传文件只能是Mp3或者Wav格式')\n      }\n    },\n\n    handleAvatarSuccess (res, file) {\n      this.audioUrl = URL.createObjectURL(file.raw)\n      console.log(this.audioUrl)\n    },\n\n    getTimes (file) {\n      var content = file\n      // 获取录音时长\n      var url = URL.createObjectURL(content)\n      // 经测试，发现audio也可获取视频的时长\n      var audioElement = new Audio(url)\n      audioElement.addEventListener('loadedmetadata', (_event) => {\n        this.audioDuration = parseInt(audioElement.duration)\n        console.log(this.audioDuration)\n      })\n    },\n\n    // 降噪处理\n    async rnn () {\n      const audio = new FormData()\n      audio.append('path', this.audioUrl)\n      audio.append('username', window.sessionStorage.getItem('username'))\n      const { data: res } = await this.axios.post('/rnn', audio)\n      if (res.status !== '1') return this.$message.error('降噪失败')\n      this.$message.success('成功')\n      this.newaudioUrl = res.url\n      console.log(this.newaudioUrl)\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.el-header, .el-footer {\n  background-color: #B3C0D1;\n  color: #333;\n  text-align: center;\n  line-height: 60px;\n}\n\n.el-aside {\n  background-color: #D3DCE6;\n  color: #333;\n  text-align: center;\n  line-height: 200px;\n}\n\n.upload {\n  background-color: #E9EEF3;\n  text-align: center;\n  padding-top: 50px;\n  padding-bottom: 50px;\n}\n.button {\n  background-color: #E9EEF3;\n  text-align: center;\n  margin-top: -5px;\n}\n.bottom {\n  background-color: #E9EEF3;\n  text-align: right;\n  padding-top: 50px;\n  padding-right: 50px;\n  padding-bottom: 10px;\n}\n.audio {\n  background-color: #E9EEF3;\n  margin-top: 20px;\n  margin-bottom: 15px;\n  text-align:center\n}\n</style>\n"],"sourceRoot":"src/views"}]}