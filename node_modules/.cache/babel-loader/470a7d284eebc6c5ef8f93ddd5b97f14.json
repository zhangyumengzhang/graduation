{"remainingRequest":"D:\\2021graduate\\graduation\\node_modules\\babel-loader\\lib\\index.js!D:\\2021graduate\\graduation\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\2021graduate\\graduation\\src\\model\\song.js","dependencies":[{"path":"D:\\2021graduate\\graduation\\src\\model\\song.js","mtime":1610350459000},{"path":"D:\\2021graduate\\graduation\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1594033213228},{"path":"D:\\2021graduate\\graduation\\node_modules\\babel-loader\\lib\\index.js","mtime":1594033213222},{"path":"D:\\2021graduate\\graduation\\node_modules\\eslint-loader\\index.js","mtime":1594033218539}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIkQ6LzIwMjFncmFkdWF0ZS9ncmFkdWF0aW9uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CgovKiog5q2M5puy5aSE55CG5pa55rOVICovCmltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy91dGlscyc7Cgp2YXIgU29uZyA9IGZ1bmN0aW9uIFNvbmcoX3JlZikgewogIHZhciBpZCA9IF9yZWYuaWQsCiAgICAgIHNpbmdlciA9IF9yZWYuc2luZ2VyLAogICAgICBuYW1lID0gX3JlZi5uYW1lLAogICAgICBhbGJ1bSA9IF9yZWYuYWxidW0sCiAgICAgIGR1cmF0aW9uID0gX3JlZi5kdXJhdGlvbiwKICAgICAgaW1hZ2UgPSBfcmVmLmltYWdlLAogICAgICB1cmwgPSBfcmVmLnVybCwKICAgICAgcGxheUNvdW50ID0gX3JlZi5wbGF5Q291bnQsCiAgICAgIHNjb3JlID0gX3JlZi5zY29yZTsKCiAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNvbmcpOwoKICB0aGlzLmlkID0gaWQ7CiAgdGhpcy5zaW5nZXIgPSBzaW5nZXI7CiAgdGhpcy5uYW1lID0gbmFtZTsKICB0aGlzLmFsYnVtID0gYWxidW07CiAgdGhpcy5kdXJhdGlvbiA9IGR1cmF0aW9uOwogIHRoaXMuaW1hZ2UgPSBpbWFnZTsKICB0aGlzLnVybCA9IHVybDsKICB0aGlzLnBsYXlDb3VudCA9IHBsYXlDb3VudDsKICB0aGlzLnNjb3JlID0gc2NvcmU7Cn07CgpleHBvcnQgeyBTb25nIGFzIGRlZmF1bHQgfTsKZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNvbmcobXVzaWNEYXRhKSB7CiAgcmV0dXJuIG5ldyBTb25nKHsKICAgIGlkOiBtdXNpY0RhdGEuaWQsCiAgICBzaW5nZXI6IGZpbHRlclNpbmdlcihtdXNpY0RhdGEuYXIgfHwgbXVzaWNEYXRhLmFydGlzdHMpLAogICAgbmFtZTogbXVzaWNEYXRhLm5hbWUsCiAgICBhbGJ1bTogbXVzaWNEYXRhLmFsID8gbXVzaWNEYXRhLmFsLm5hbWUgOiBtdXNpY0RhdGEuYWxidW0ubmFtZSwKICAgIGR1cmF0aW9uOiB1dGlscy5mb3JtYXRTZWNvbmQobXVzaWNEYXRhLmR0IHx8IG11c2ljRGF0YS5kdXJhdGlvbiksCiAgICBpbWFnZTogbXVzaWNEYXRhLmFsID8gbXVzaWNEYXRhLmFsLnBpY1VybCA6IG11c2ljRGF0YS5hbGJ1bS5hcnRpc3QuaW1nMXYxVXJsLAogICAgdXJsOiAiaHR0cHM6Ly9tdXNpYy4xNjMuY29tL3NvbmcvbWVkaWEvb3V0ZXIvdXJsP2lkPSIuY29uY2F0KG11c2ljRGF0YS5pZCwgIi5tcDMiKSwKICAgIHBsYXlDb3VudDogbXVzaWNEYXRhLnBsYXlDb3VudCB8fCAnJywKICAgIHNjb3JlOiBtdXNpY0RhdGEuc2NvcmUgfHwgJycKICB9KTsKfSAvLyDmrYzmiYvlpITnkIYKCmZ1bmN0aW9uIGZpbHRlclNpbmdlcihzaW5nZXIpIHsKICB2YXIgcmV0ID0gW107CgogIGlmICghc2luZ2VyKSB7CiAgICByZXR1cm4gJyc7CiAgfQoKICBzaW5nZXIubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICByZXQucHVzaChpdGVtLm5hbWUpOwogIH0pOwogIHJldHVybiByZXQuam9pbignIC8gJyk7Cn0="},{"version":3,"sources":["D:/2021graduate/graduation/src/model/song.js"],"names":["utils","Song","id","singer","name","album","duration","image","url","playCount","score","createSong","musicData","filterSinger","ar","artists","al","formatSecond","dt","picUrl","artist","img1v1Url","ret","map","item","push","join"],"mappings":";;;;;AAAA;AAEA,OAAOA,KAAP,MAAkB,gBAAlB;;IAEqBC,I,GACnB,oBAUG;AAAA,MATDC,EASC,QATDA,EASC;AAAA,MARDC,MAQC,QARDA,MAQC;AAAA,MAPDC,IAOC,QAPDA,IAOC;AAAA,MANDC,KAMC,QANDA,KAMC;AAAA,MALDC,QAKC,QALDA,QAKC;AAAA,MAJDC,KAIC,QAJDA,KAIC;AAAA,MAHDC,GAGC,QAHDA,GAGC;AAAA,MAFDC,SAEC,QAFDA,SAEC;AAAA,MADDC,KACC,QADDA,KACC;;AAAA;;AACD,OAAKR,EAAL,GAAUA,EAAV;AACA,OAAKC,MAAL,GAAcA,MAAd;AACA,OAAKC,IAAL,GAAYA,IAAZ;AACA,OAAKC,KAAL,GAAaA,KAAb;AACA,OAAKC,QAAL,GAAgBA,QAAhB;AACA,OAAKC,KAAL,GAAaA,KAAb;AACA,OAAKC,GAAL,GAAWA,GAAX;AACA,OAAKC,SAAL,GAAiBA,SAAjB;AACA,OAAKC,KAAL,GAAaA,KAAb;AACD,C;;SArBkBT,I;AAwBrB,OAAO,SAASU,UAAT,CAAoBC,SAApB,EAA+B;AACpC,SAAO,IAAIX,IAAJ,CAAS;AACdC,IAAAA,EAAE,EAAEU,SAAS,CAACV,EADA;AAEdC,IAAAA,MAAM,EAAEU,YAAY,CAACD,SAAS,CAACE,EAAV,IAAgBF,SAAS,CAACG,OAA3B,CAFN;AAGdX,IAAAA,IAAI,EAAEQ,SAAS,CAACR,IAHF;AAIdC,IAAAA,KAAK,EAAEO,SAAS,CAACI,EAAV,GAAeJ,SAAS,CAACI,EAAV,CAAaZ,IAA5B,GAAmCQ,SAAS,CAACP,KAAV,CAAgBD,IAJ5C;AAKdE,IAAAA,QAAQ,EAAEN,KAAK,CAACiB,YAAN,CAAmBL,SAAS,CAACM,EAAV,IAAgBN,SAAS,CAACN,QAA7C,CALI;AAMdC,IAAAA,KAAK,EAAEK,SAAS,CAACI,EAAV,GACHJ,SAAS,CAACI,EAAV,CAAaG,MADV,GAEHP,SAAS,CAACP,KAAV,CAAgBe,MAAhB,CAAuBC,SARb;AASdb,IAAAA,GAAG,0DAAmDI,SAAS,CAACV,EAA7D,SATW;AAUdO,IAAAA,SAAS,EAAEG,SAAS,CAACH,SAAV,IAAuB,EAVpB;AAWdC,IAAAA,KAAK,EAAEE,SAAS,CAACF,KAAV,IAAmB;AAXZ,GAAT,CAAP;AAaD,C,CAED;;AACA,SAASG,YAAT,CAAsBV,MAAtB,EAA8B;AAC5B,MAAImB,GAAG,GAAG,EAAV;;AACA,MAAI,CAACnB,MAAL,EAAa;AACX,WAAO,EAAP;AACD;;AACDA,EAAAA,MAAM,CAACoB,GAAP,CAAW,UAAAC,IAAI,EAAI;AACjBF,IAAAA,GAAG,CAACG,IAAJ,CAASD,IAAI,CAACpB,IAAd;AACD,GAFD;AAGA,SAAOkB,GAAG,CAACI,IAAJ,CAAS,KAAT,CAAP;AACD","sourcesContent":["/** 歌曲处理方法 */\n\nimport utils from '../utils/utils'\n\nexport default class Song {\n  constructor({\n    id,\n    singer,\n    name,\n    album,\n    duration,\n    image,\n    url,\n    playCount,\n    score\n  }) {\n    this.id = id\n    this.singer = singer\n    this.name = name\n    this.album = album\n    this.duration = duration\n    this.image = image\n    this.url = url\n    this.playCount = playCount\n    this.score = score\n  }\n}\n\nexport function createSong(musicData) {\n  return new Song({\n    id: musicData.id,\n    singer: filterSinger(musicData.ar || musicData.artists),\n    name: musicData.name,\n    album: musicData.al ? musicData.al.name : musicData.album.name,\n    duration: utils.formatSecond(musicData.dt || musicData.duration),\n    image: musicData.al\n      ? musicData.al.picUrl\n      : musicData.album.artist.img1v1Url,\n    url: `https://music.163.com/song/media/outer/url?id=${musicData.id}.mp3`,\n    playCount: musicData.playCount || '',\n    score: musicData.score || ''\n  })\n}\n\n// 歌手处理\nfunction filterSinger(singer) {\n  let ret = []\n  if (!singer) {\n    return ''\n  }\n  singer.map(item => {\n    ret.push(item.name)\n  })\n  return ret.join(' / ')\n}\n"]}]}