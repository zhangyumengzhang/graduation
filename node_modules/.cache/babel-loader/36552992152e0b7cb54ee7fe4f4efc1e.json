{"remainingRequest":"D:\\2021graduate\\graduation\\node_modules\\babel-loader\\lib\\index.js!D:\\2021graduate\\graduation\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\2021graduate\\graduation\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\2021graduate\\graduation\\src\\views\\star.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\2021graduate\\graduation\\src\\views\\star.vue","mtime":1612074789538},{"path":"D:\\2021graduate\\graduation\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1594033213228},{"path":"D:\\2021graduate\\graduation\\node_modules\\babel-loader\\lib\\index.js","mtime":1594033213222},{"path":"D:\\2021graduate\\graduation\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1594033213228},{"path":"D:\\2021graduate\\graduation\\node_modules\\vue-loader\\lib\\index.js","mtime":1594033220124}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDovMjAyMWdyYWR1YXRlL2dyYWR1YXRpb24vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgYXBsYXllciBmcm9tICd2dWUtYXBsYXllcic7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICAvLyDliKvlv5jkuoblvJXlhaXnu4Tku7YKICAgICdhLXBsYXllcic6IGFwbGF5ZXIKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmbGFnOiBmYWxzZSwKICAgICAgbXVzaWNMaXN0OiAnJywKICAgICAgc29uZ0xpc3Q6IFtdCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIGFwbGF5ZXI7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuaW5pdCgpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGFwbGF5ZXIgPSBfdGhpcy4kcmVmcy5wbGF5ZXIuY29udHJvbDsKICAgICAgICAgICAgICBhcGxheWVyLnBsYXkoKTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIF95aWVsZCRfdGhpczIkYXhpb3MkcCwgcmVzLCBpLCBvYmo7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmF4aW9zLnBvc3QoJy9nZXRhdWRpbycsIHsKICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6IHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd1c2VybmFtZScpCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX3lpZWxkJF90aGlzMiRheGlvcyRwID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICByZXMgPSBfeWllbGQkX3RoaXMyJGF4aW9zJHAuZGF0YTsKCiAgICAgICAgICAgICAgICBpZiAoIShyZXMuc3RhdHVzICE9PSAnMScpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIF90aGlzMi4kbWVzc2FnZS5lcnJvcihyZXMubWVzc2FnZSkpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBfdGhpczIuJG1lc3NhZ2Uuc3VjY2VzcyhyZXMubWVzc2FnZSk7CgogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICAgICAgICAgIF90aGlzMi5tdXNpY0xpc3QgPSByZXMuc29uZ2xpc3Q7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfdGhpczIubXVzaWNMaXN0KTsKCiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDw9IF90aGlzMi5tdXNpY0xpc3QubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgb2JqID0ge307IC8vIHVybD0+5q2M5puy5Zyw5Z2AIHRpdGxlPT7lpLTpg6ggYXV0aG9yPT7mrYzmiYsgcGljPT7lhpnnnJ/lm77niYcgbHJjPT7mrYzor40KICAgICAgICAgICAgICAgICAgLy8g5YW25LitdXJs5b+F6aG75pyJ77yM5YW25LuW55qE6YO95piv6Z2e5b+F6aG7CgogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfdGhpczIubXVzaWNMaXN0W2ldLmF1ZGlvdGl0bGUpOwogICAgICAgICAgICAgICAgICBvYmoudGl0bGUgPSBfdGhpczIubXVzaWNMaXN0W2ldLmF1ZGlvdGl0bGU7CiAgICAgICAgICAgICAgICAgIG9iai50aW1lID0gX3RoaXMyLm11c2ljTGlzdFtpXS5hdWRpb3RpbWU7CiAgICAgICAgICAgICAgICAgIG9iai51cmwgPSBfdGhpczIubXVzaWNMaXN0W2ldLmF1ZGlvcGF0aCArICcvLycgKyBfdGhpczIubXVzaWNMaXN0W2ldLmF1ZGlvdGl0bGU7IC8vIOaKiuaVsOaNruS4gOS4quS4qnB1c2jliLBzb25nTGlzdOaVsOe7hOS4re+8jOWcqGEtcGxheWVy5qCH562+5Lit5L2/55SoIDptdXNpYz0ic29uZ0xpc3QiIOWwsU9L5LqGCgogICAgICAgICAgICAgICAgICBfdGhpczIuc29uZ0xpc3QucHVzaChvYmopOwogICAgICAgICAgICAgICAgfSAvLyDlm6DkuLrmmK/lvILmraXor7fmsYLvvIzmiYDku6XkuIDlvIDlp4vmkq3mlL7lmajkuK3mmK/msqHmnInmrYzmm7LnmoTvvIzmiYDmnInnu5nkuobkuKp2LWlm5LiN54S25Lya5o+S5Lu26buY6K6k5Lya5YWI55Sf5oiQ5pKt5pS+5Zmo77yM5a+86Ie05oql6ZSZKOi/meS4quW+iOmHjeimgSkKCgogICAgICAgICAgICAgICAgX3RoaXMyLmZsYWcgPSB0cnVlOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["star.vue"],"names":[],"mappings":";;;;;;;;;;;AAUA,OAAA,OAAA,MAAA,aAAA;AACA,eAAA;AACA,EAAA,UAAA,EAAA;AACA;AACA,gBAAA;AAFA,GADA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,KADA;AAEA,MAAA,SAAA,EAAA,EAFA;AAGA,MAAA,QAAA,EAAA;AAHA,KAAA;AAKA,GAXA;AAYA,EAAA,OAZA,qBAYA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEA,KAAA,CAAA,IAAA,EAFA;;AAAA;AAGA,cAAA,OAHA,GAGA,KAAA,CAAA,KAAA,CAAA,MAAA,CAAA,OAHA;AAIA,cAAA,OAAA,CAAA,IAAA;;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA,GAjBA;AAkBA,EAAA,OAAA,EAAA;AACA,IAAA,IADA,kBACA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,WAAA,EAAA;AACA,kBAAA,QAAA,EAAA,MAAA,CAAA,cAAA,CAAA,OAAA,CAAA,UAAA;AADA,iBAAA,CADA;;AAAA;AAAA;AACA,gBAAA,GADA,yBACA,IADA;;AAAA,sBAIA,GAAA,CAAA,MAAA,KAAA,GAJA;AAAA;AAAA;AAAA;;AAAA,kDAIA,MAAA,CAAA,QAAA,CAAA,KAAA,CAAA,GAAA,CAAA,OAAA,CAJA;;AAAA;AAKA,gBAAA,MAAA,CAAA,QAAA,CAAA,OAAA,CAAA,GAAA,CAAA,OAAA;;AACA,gBAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,gBAAA,MAAA,CAAA,SAAA,GAAA,GAAA,CAAA,QAAA;AACA,gBAAA,OAAA,CAAA,GAAA,CAAA,MAAA,CAAA,SAAA;;AACA,qBAAA,CAAA,GAAA,CAAA,EAAA,CAAA,IAAA,MAAA,CAAA,SAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA,kBAAA,GADA,GACA,EADA,EAEA;AACA;;AACA,kBAAA,OAAA,CAAA,GAAA,CAAA,MAAA,CAAA,SAAA,CAAA,CAAA,EAAA,UAAA;AACA,kBAAA,GAAA,CAAA,KAAA,GAAA,MAAA,CAAA,SAAA,CAAA,CAAA,EAAA,UAAA;AACA,kBAAA,GAAA,CAAA,IAAA,GAAA,MAAA,CAAA,SAAA,CAAA,CAAA,EAAA,SAAA;AACA,kBAAA,GAAA,CAAA,GAAA,GAAA,MAAA,CAAA,SAAA,CAAA,CAAA,EAAA,SAAA,GAAA,IAAA,GAAA,MAAA,CAAA,SAAA,CAAA,CAAA,EAAA,UAAA,CAPA,CAQA;;AACA,kBAAA,MAAA,CAAA,QAAA,CAAA,IAAA,CAAA,GAAA;AACA,iBAnBA,CAoBA;;;AACA,gBAAA,MAAA,CAAA,IAAA,GAAA,IAAA;;AArBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAsBA;AAvBA;AAlBA,CAAA","sourcesContent":["<template>\r\n  <div>\r\n    <div style=\"padding:10px 0;\">\r\n      <a-player :music=\"songList\" :showlrc=\"3\" :narrow=\"false\" theme=\"#b7daff\" mode=\"circulation\" v-if=\"flag\" listmaxheight='96px' ref=\"player\"></a-player>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport aplayer from 'vue-aplayer'\r\nexport default {\r\n  components: {\r\n    // 别忘了引入组件\r\n    'a-player': aplayer\r\n  },\r\n  data () {\r\n    return {\r\n      flag: false,\r\n      musicList: '',\r\n      songList: []\r\n    }\r\n  },\r\n  async mounted () {\r\n    // 异步加载，先加载出player再使用\r\n    await this.init()\r\n    const aplayer = this.$refs.player.control\r\n    aplayer.play()\r\n  },\r\n  methods: {\r\n    async init () {\r\n      const { data: res } = await this.axios.post('/getaudio', {\r\n        username: window.sessionStorage.getItem('username')\r\n      })\r\n      if (res.status !== '1') return this.$message.error(res.message)\r\n      this.$message.success(res.message)\r\n      console.log(res)\r\n      this.musicList = res.songlist\r\n      console.log(this.musicList)\r\n      for (let i = 0; i <= this.musicList.length; i++) {\r\n        const obj = {}\r\n        // url=>歌曲地址 title=>头部 author=>歌手 pic=>写真图片 lrc=>歌词\r\n        // 其中url必须有，其他的都是非必须\r\n        console.log(this.musicList[i].audiotitle)\r\n        obj.title = this.musicList[i].audiotitle\r\n        obj.time = this.musicList[i].audiotime\r\n        obj.url = this.musicList[i].audiopath + '//' +this.musicList[i].audiotitle\r\n        // 把数据一个个push到songList数组中，在a-player标签中使用 :music=\"songList\" 就OK了\r\n        this.songList.push(obj)\r\n      }\r\n      // 因为是异步请求，所以一开始播放器中是没有歌曲的，所有给了个v-if不然会插件默认会先生成播放器，导致报错(这个很重要)\r\n      this.flag = true\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n"],"sourceRoot":"src/views"}]}