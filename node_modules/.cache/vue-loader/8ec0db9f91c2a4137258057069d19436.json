{"remainingRequest":"D:\\2021graduate\\graduation\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\2021graduate\\graduation\\src\\views\\myaudio.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\2021graduate\\graduation\\src\\views\\myaudio.vue","mtime":1611502915899},{"path":"D:\\2021graduate\\graduation\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1594033213228},{"path":"D:\\2021graduate\\graduation\\node_modules\\babel-loader\\lib\\index.js","mtime":1594033213222},{"path":"D:\\2021graduate\\graduation\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1594033213228},{"path":"D:\\2021graduate\\graduation\\node_modules\\vue-loader\\lib\\index.js","mtime":1594033220124}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgc29uZ0xpc3QgZnJvbSAnLi4vY29tcG9uZW50cy9jb21tb24vc29uZ0xpc3QvSW5kZXgnDQppbXBvcnQgeyBjcmVhdGVTb25nIH0gZnJvbSAnQC9tb2RlbC9zb25nJw0KZXhwb3J0IGRlZmF1bHQgew0KICBkYXRhICgpIHsNCiAgICByZXR1cm4gew0KICAgICAgc29uZ3M6IFtdDQogICAgfQ0KICB9LA0KICBjb21wb25lbnRzOiB7DQogICAgc29uZ0xpc3QNCiAgfSwNCiAgLy8g55uR5ZCs5bGe5oCnIOexu+S8vOS6jmRhdGHmpoLlv7UNCiAgY29tcHV0ZWQ6IHt9LA0KICAvLyDnm5HmjqdkYXRh5Lit55qE5pWw5o2u5Y+Y5YyWDQogIHdhdGNoOiB7fSwNCiAgLy8g5pa55rOV6ZuG5ZCIDQogIG1ldGhvZHM6IHsNCiAgICAvLyDojrflj5bmjqjojZDmlrDpn7PkuZANCiAgICBhc3luYyBnZXROZXdTb25ncyAoKSB7DQogICAgICB0cnkgew0KICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLiRhcGkuZ2V0TmV3U29uZ3MoKQ0KICAgICAgICBjb25zdCBsaXN0ID0gW10NCiAgICAgICAgaWYgKHJlcy5jb2RlID09PSAyMDApIHsNCiAgICAgICAgICByZXMucmVzdWx0Lm1hcChpdGVtID0+IHsNCiAgICAgICAgICAgIGxpc3QucHVzaChpdGVtLmlkKQ0KICAgICAgICAgIH0pDQogICAgICAgICAgdGhpcy5nZXRTb25nRGV0YWlsKGxpc3QpDQogICAgICAgIH0NCiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKQ0KICAgICAgfQ0KICAgIH0sDQogICAgLy8g6I635Y+W5q2M5puy5YiX6KGoDQogICAgYXN5bmMgZ2V0U29uZ0RldGFpbCAoc2xpY2VBcnIpIHsNCiAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IG5ldyBEYXRlKCkudmFsdWVPZigpDQogICAgICBzbGljZUFyciA9IHNsaWNlQXJyLmpvaW4oJywnKQ0KICAgICAgdHJ5IHsNCiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy4kYXBpLmdldFNvbmdEZXRhaWwoc2xpY2VBcnIsIHRpbWVzdGFtcCkNCiAgICAgICAgdGhpcy5zb25ncyA9IHRoaXMuX25vcm1hbGl6ZVNvbmdzKHJlcy5zb25ncykNCiAgICAgICAgY29uc29sZS5sb2codGhpcy5zb25ncykNCiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICB9DQogICAgfSwNCiAgICAvLyDlpITnkIbmrYzmm7INCiAgICBfbm9ybWFsaXplU29uZ3MgKGxpc3QpIHsNCiAgICAgIGNvbnN0IHJldCA9IFtdDQogICAgICBsaXN0Lm1hcChpdGVtID0+IHsNCiAgICAgICAgaWYgKGl0ZW0uaWQpIHsNCiAgICAgICAgICByZXQucHVzaChjcmVhdGVTb25nKGl0ZW0pKQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgICAgcmV0dXJuIHJldA0KICAgIH0NCiAgfSwNCiAgLy8g55Sf5ZG95ZGo5pyfIC0g5Yib5bu65a6M5oiQ77yI5Y+v5Lul6K6/6Zeu5b2T5YmNdGhpc+WunuS+i++8iQ0KICBjcmVhdGVkICgpIHt9LA0KICAvLyDnlJ/lkb3lkajmnJ8gLSDmjILovb3lrozmiJDvvIjlj6/ku6Xorr/pl65ET03lhYPntKDvvIkNCiAgbW91bnRlZCAoKSB7DQogICAgdGhpcy5nZXROZXdTb25ncygpDQogIH0NCn0NCg=="},{"version":3,"sources":["myaudio.vue"],"names":[],"mappings":";;;;;;;;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"myaudio.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"recommend-music\">\r\n    <h2 class=\"title\">推荐新歌曲</h2>\r\n    <song-list :songList=\"songs\"></song-list>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport songList from '../components/common/songList/Index'\r\nimport { createSong } from '@/model/song'\r\nexport default {\r\n  data () {\r\n    return {\r\n      songs: []\r\n    }\r\n  },\r\n  components: {\r\n    songList\r\n  },\r\n  // 监听属性 类似于data概念\r\n  computed: {},\r\n  // 监控data中的数据变化\r\n  watch: {},\r\n  // 方法集合\r\n  methods: {\r\n    // 获取推荐新音乐\r\n    async getNewSongs () {\r\n      try {\r\n        const res = await this.$api.getNewSongs()\r\n        const list = []\r\n        if (res.code === 200) {\r\n          res.result.map(item => {\r\n            list.push(item.id)\r\n          })\r\n          this.getSongDetail(list)\r\n        }\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    },\r\n    // 获取歌曲列表\r\n    async getSongDetail (sliceArr) {\r\n      const timestamp = new Date().valueOf()\r\n      sliceArr = sliceArr.join(',')\r\n      try {\r\n        const res = await this.$api.getSongDetail(sliceArr, timestamp)\r\n        this.songs = this._normalizeSongs(res.songs)\r\n        console.log(this.songs)\r\n      } catch (error) {\r\n      }\r\n    },\r\n    // 处理歌曲\r\n    _normalizeSongs (list) {\r\n      const ret = []\r\n      list.map(item => {\r\n        if (item.id) {\r\n          ret.push(createSong(item))\r\n        }\r\n      })\r\n      return ret\r\n    }\r\n  },\r\n  // 生命周期 - 创建完成（可以访问当前this实例）\r\n  created () {},\r\n  // 生命周期 - 挂载完成（可以访问DOM元素）\r\n  mounted () {\r\n    this.getNewSongs()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n.recommend-music {\r\n  .title {\r\n    margin: 0 0 15px 0;\r\n  }\r\n}\r\n</style>\r\n"]}]}