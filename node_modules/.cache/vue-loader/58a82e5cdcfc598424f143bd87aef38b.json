{"remainingRequest":"D:\\2021graduate\\graduation\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\2021graduate\\graduation\\src\\views\\star.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\2021graduate\\graduation\\src\\views\\star.vue","mtime":1612074789538},{"path":"D:\\2021graduate\\graduation\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1594033213228},{"path":"D:\\2021graduate\\graduation\\node_modules\\babel-loader\\lib\\index.js","mtime":1594033213222},{"path":"D:\\2021graduate\\graduation\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1594033213228},{"path":"D:\\2021graduate\\graduation\\node_modules\\vue-loader\\lib\\index.js","mtime":1594033220124}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXBsYXllciBmcm9tICd2dWUtYXBsYXllcicNCmV4cG9ydCBkZWZhdWx0IHsNCiAgY29tcG9uZW50czogew0KICAgIC8vIOWIq+W/mOS6huW8leWFpee7hOS7tg0KICAgICdhLXBsYXllcic6IGFwbGF5ZXINCiAgfSwNCiAgZGF0YSAoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGZsYWc6IGZhbHNlLA0KICAgICAgbXVzaWNMaXN0OiAnJywNCiAgICAgIHNvbmdMaXN0OiBbXQ0KICAgIH0NCiAgfSwNCiAgYXN5bmMgbW91bnRlZCAoKSB7DQogICAgLy8g5byC5q2l5Yqg6L2977yM5YWI5Yqg6L295Ye6cGxheWVy5YaN5L2/55SoDQogICAgYXdhaXQgdGhpcy5pbml0KCkNCiAgICBjb25zdCBhcGxheWVyID0gdGhpcy4kcmVmcy5wbGF5ZXIuY29udHJvbA0KICAgIGFwbGF5ZXIucGxheSgpDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBhc3luYyBpbml0ICgpIHsNCiAgICAgIGNvbnN0IHsgZGF0YTogcmVzIH0gPSBhd2FpdCB0aGlzLmF4aW9zLnBvc3QoJy9nZXRhdWRpbycsIHsNCiAgICAgICAgdXNlcm5hbWU6IHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd1c2VybmFtZScpDQogICAgICB9KQ0KICAgICAgaWYgKHJlcy5zdGF0dXMgIT09ICcxJykgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzLm1lc3NhZ2UpDQogICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MocmVzLm1lc3NhZ2UpDQogICAgICBjb25zb2xlLmxvZyhyZXMpDQogICAgICB0aGlzLm11c2ljTGlzdCA9IHJlcy5zb25nbGlzdA0KICAgICAgY29uc29sZS5sb2codGhpcy5tdXNpY0xpc3QpDQogICAgICBmb3IgKGxldCBpID0gMDsgaSA8PSB0aGlzLm11c2ljTGlzdC5sZW5ndGg7IGkrKykgew0KICAgICAgICBjb25zdCBvYmogPSB7fQ0KICAgICAgICAvLyB1cmw9PuatjOabsuWcsOWdgCB0aXRsZT0+5aS06YOoIGF1dGhvcj0+5q2M5omLIHBpYz0+5YaZ55yf5Zu+54mHIGxyYz0+5q2M6K+NDQogICAgICAgIC8vIOWFtuS4rXVybOW/hemhu+acie+8jOWFtuS7lueahOmDveaYr+mdnuW/hemhuw0KICAgICAgICBjb25zb2xlLmxvZyh0aGlzLm11c2ljTGlzdFtpXS5hdWRpb3RpdGxlKQ0KICAgICAgICBvYmoudGl0bGUgPSB0aGlzLm11c2ljTGlzdFtpXS5hdWRpb3RpdGxlDQogICAgICAgIG9iai50aW1lID0gdGhpcy5tdXNpY0xpc3RbaV0uYXVkaW90aW1lDQogICAgICAgIG9iai51cmwgPSB0aGlzLm11c2ljTGlzdFtpXS5hdWRpb3BhdGggKyAnLy8nICt0aGlzLm11c2ljTGlzdFtpXS5hdWRpb3RpdGxlDQogICAgICAgIC8vIOaKiuaVsOaNruS4gOS4quS4qnB1c2jliLBzb25nTGlzdOaVsOe7hOS4re+8jOWcqGEtcGxheWVy5qCH562+5Lit5L2/55SoIDptdXNpYz0ic29uZ0xpc3QiIOWwsU9L5LqGDQogICAgICAgIHRoaXMuc29uZ0xpc3QucHVzaChvYmopDQogICAgICB9DQogICAgICAvLyDlm6DkuLrmmK/lvILmraXor7fmsYLvvIzmiYDku6XkuIDlvIDlp4vmkq3mlL7lmajkuK3mmK/msqHmnInmrYzmm7LnmoTvvIzmiYDmnInnu5nkuobkuKp2LWlm5LiN54S25Lya5o+S5Lu26buY6K6k5Lya5YWI55Sf5oiQ5pKt5pS+5Zmo77yM5a+86Ie05oql6ZSZKOi/meS4quW+iOmHjeimgSkNCiAgICAgIHRoaXMuZmxhZyA9IHRydWUNCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["star.vue"],"names":[],"mappings":";;;;;;;;;;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"star.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div>\r\n    <div style=\"padding:10px 0;\">\r\n      <a-player :music=\"songList\" :showlrc=\"3\" :narrow=\"false\" theme=\"#b7daff\" mode=\"circulation\" v-if=\"flag\" listmaxheight='96px' ref=\"player\"></a-player>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport aplayer from 'vue-aplayer'\r\nexport default {\r\n  components: {\r\n    // 别忘了引入组件\r\n    'a-player': aplayer\r\n  },\r\n  data () {\r\n    return {\r\n      flag: false,\r\n      musicList: '',\r\n      songList: []\r\n    }\r\n  },\r\n  async mounted () {\r\n    // 异步加载，先加载出player再使用\r\n    await this.init()\r\n    const aplayer = this.$refs.player.control\r\n    aplayer.play()\r\n  },\r\n  methods: {\r\n    async init () {\r\n      const { data: res } = await this.axios.post('/getaudio', {\r\n        username: window.sessionStorage.getItem('username')\r\n      })\r\n      if (res.status !== '1') return this.$message.error(res.message)\r\n      this.$message.success(res.message)\r\n      console.log(res)\r\n      this.musicList = res.songlist\r\n      console.log(this.musicList)\r\n      for (let i = 0; i <= this.musicList.length; i++) {\r\n        const obj = {}\r\n        // url=>歌曲地址 title=>头部 author=>歌手 pic=>写真图片 lrc=>歌词\r\n        // 其中url必须有，其他的都是非必须\r\n        console.log(this.musicList[i].audiotitle)\r\n        obj.title = this.musicList[i].audiotitle\r\n        obj.time = this.musicList[i].audiotime\r\n        obj.url = this.musicList[i].audiopath + '//' +this.musicList[i].audiotitle\r\n        // 把数据一个个push到songList数组中，在a-player标签中使用 :music=\"songList\" 就OK了\r\n        this.songList.push(obj)\r\n      }\r\n      // 因为是异步请求，所以一开始播放器中是没有歌曲的，所有给了个v-if不然会插件默认会先生成播放器，导致报错(这个很重要)\r\n      this.flag = true\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n"]}]}