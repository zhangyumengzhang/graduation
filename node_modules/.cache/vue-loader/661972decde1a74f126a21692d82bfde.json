{"remainingRequest":"D:\\2020summer\\vue_shop\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\2020summer\\vue_shop\\src\\views\\data\\data.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\2020summer\\vue_shop\\src\\views\\data\\data.vue","mtime":1594453691794},{"path":"D:\\2020summer\\vue_shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1594033213228},{"path":"D:\\2020summer\\vue_shop\\node_modules\\babel-loader\\lib\\index.js","mtime":1594033213222},{"path":"D:\\2020summer\\vue_shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1594033213228},{"path":"D:\\2020summer\\vue_shop\\node_modules\\vue-loader\\lib\\index.js","mtime":1594033220124}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgU2NoYXJ0IGZyb20gJy4vdnVlLXNjaGFydCcNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ2FwcCcsDQogIGRhdGEgKCkgew0KICAgIHJldHVybiB7DQogICAgICBvcHRpb25zOiB7DQogICAgICAgIHR5cGU6ICdiYXInLA0KICAgICAgICB0aXRsZTogew0KICAgICAgICAgIHRleHQ6ICfmnIDov5HkuIDlkajlm77kuabplIDph49UT1AnDQogICAgICAgIH0sDQogICAgICAgIGJnQ29sb3I6ICcjZmZmJywNCiAgICAgICAgbGFiZWxzOiBbJ3RoaXMuYm9va25hbWVbMF0nLCAndGhpcy5ib29rbmFtZVsxXSddLA0KICAgICAgICBkYXRhc2V0czogWw0KICAgICAgICAgIHsNCiAgICAgICAgICAgIGxhYmVsOiAn6ZSA6YePJywNCiAgICAgICAgICAgIGZpbGxDb2xvcjogJ3JnYmEoMjQxLCA0OSwgNzQsIDAuNSknLA0KICAgICAgICAgICAgZGF0YTogWycyJywgJzMwJ10NCiAgICAgICAgICB9DQogICAgICAgIF0NCiAgICAgIH0sDQogICAgICBvcHRpb25zMTogew0KICAgICAgICB0eXBlOiAnbGluZScsDQogICAgICAgIHRpdGxlOiB7DQogICAgICAgICAgdGV4dDogJ+S4gOWRqOW6l+mTuumUgOmHj+WPmOWMlicNCiAgICAgICAgfSwNCiAgICAgICAgYmdDb2xvcjogJyNmZmYnLA0KICAgICAgICBsYWJlbHM6IFsn5ZGo5LiAJywgJ+WRqOS6jCcsICflkajkuIknLCAn5ZGo5ZubJywgJ+WRqOS6lCcsICflkajlha0nLCAn5ZGo5pelJ10sDQoNCiAgICAgICAgZGF0YXNldHM6IFsNCiAgICAgICAgICB7DQogICAgICAgICAgICBsYWJlbDogJ+mUgOmHjycsDQoNCiAgICAgICAgICAgIGZpbGxDb2xvcjogJ3JnYmEoMjQxLCA0OSwgNzQsIDAuNSknLA0KDQogICAgICAgICAgICBkYXRhOiB0aGlzLnNob3BsaXN0DQogICAgICAgICAgfQ0KICAgICAgICBdDQogICAgICB9LA0KICAgICAgc2hvcGxpc3Q6IFtdLA0KICAgICAgYm9va2xpc3Q6IFtdLA0KICAgICAgYm9va25hbWU6IFtdDQogICAgfQ0KICB9LA0KICBjcmVhdGVkICgpIHsNCiAgICB0aGlzLnNlbGVjdFN0b3JlVG9wKCkNCiAgICB0aGlzLnN0b3JlT3JkZXJTdW0oKQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgYXN5bmMgc2VsZWN0U3RvcmVUb3AgKCkgew0KICAgICAgY29uc3QgeyBkYXRhOiByZXMgfSA9IGF3YWl0IHRoaXMuYXhpb3MucG9zdCgnL3NlbGVjdFN0b3JlVG9wJywgew0KICAgICAgICAvLyBzdG9yZV9pZDogd2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3N0b3JlaWQnKQ0KICAgICAgICBzdG9yZV9pZDogMQ0KICAgICAgfSkNCiAgICAgIGlmIChyZXMuc3RhdHVzICE9PSAnMScpIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKCfojrflj5blm77kuaZ0b3DlpLHotKUnKQ0KICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfojrflj5blm77kuaZUT1DmiJDlip8nKQ0KICAgICAgY29uc29sZS5sb2cocmVzKQ0KICAgICAgY29uc3QgZGF0YSA9IHJlcy5kYXRhDQogICAgICBjb25zdCBwcm9wcyA9IE9iamVjdC5rZXlzKGRhdGEpDQogICAgICBjb25zb2xlLmxvZyhwcm9wcykNCiAgICAgIHByb3BzLmZvckVhY2gocHJvcCA9PiB7DQogICAgICAgIHRoaXMuYm9va25hbWVbcHJvcF0gPSBkYXRhW3Byb3BdLmJvb2tuYW1lDQogICAgICB9KQ0KICAgICAgY29uc29sZS5sb2codGhpcy5ib29rbmFtZSkNCiAgICB9LA0KICAgIGFzeW5jIHN0b3JlT3JkZXJTdW0gKCkgew0KICAgICAgY29uc3QgeyBkYXRhOiByZXMgfSA9IGF3YWl0IHRoaXMuYXhpb3MucG9zdCgnL3N0b3JlT3JkZXJTdW0nLCB7DQogICAgICAgIC8vIHN0b3JlX2lkOiB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnc3RvcmVpZCcpDQogICAgICAgIHN0b3JlX2lkOiAxDQogICAgICB9KQ0KICAgICAgaWYgKHJlcy5zdGF0dXMgIT09ICcxJykgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+iOt+WPlumUgOmHj+Wksei0pScpDQogICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+iOt+WPlumUgOmHj+aIkOWKnycpDQogICAgICBjb25zb2xlLmxvZyhyZXMpDQogICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgcmVzLmRhdGEpIHsNCiAgICAgICAgdGhpcy5zaG9wbGlzdC5wdXNoKHBhcnNlSW50KGl0ZW0u6ZSA6YePKSkNCiAgICAgIH0NCiAgICAgIGNvbnNvbGUubG9nKHRoaXMuc2hvcGxpc3QpDQogICAgfQ0KICB9LA0KICBjb21wb25lbnRzOiB7DQogICAgU2NoYXJ0DQogIH0NCn0NCg0K"},{"version":3,"sources":["data.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"data.vue","sourceRoot":"src/views/data","sourcesContent":["<template>\r\n    <div id=\"app\">\r\n      <!-- 面包屑导航区域 -->\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n      <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\r\n      <div>\r\n        <el-breadcrumb-item>数据统计</el-breadcrumb-item>\r\n        <el-breadcrumb-item>数据报表</el-breadcrumb-item>\r\n      </div>\r\n    </el-breadcrumb>\r\n    <el-card class=\"box-card\">\r\n      <div slot=\"header\" class=\"clearfix\">\r\n        <span>数据报表</span>\r\n      </div>\r\n      <div>\r\n         <el-row :gutter=\"25\">\r\n            <el-col :span=\"12\">\r\n                <el-card shadow=\"hover\" class=\"wrapper\">\r\n                    <schart class=\"schart\" canvasId=\"bar\" :options=\"options\"></schart>\r\n                </el-card>\r\n\r\n            </el-col>\r\n            <el-col :span=\"12\">\r\n                <el-card shadow=\"hover\" class=\"wrapper\">\r\n                    <schart class=\"schart\" canvasId=\"line\" :options=\"options1\"></schart>\r\n                </el-card>\r\n            </el-col>\r\n        </el-row>\r\n      </div>\r\n    </el-card>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Schart from './vue-schart'\r\nexport default {\r\n  name: 'app',\r\n  data () {\r\n    return {\r\n      options: {\r\n        type: 'bar',\r\n        title: {\r\n          text: '最近一周图书销量TOP'\r\n        },\r\n        bgColor: '#fff',\r\n        labels: ['this.bookname[0]', 'this.bookname[1]'],\r\n        datasets: [\r\n          {\r\n            label: '销量',\r\n            fillColor: 'rgba(241, 49, 74, 0.5)',\r\n            data: ['2', '30']\r\n          }\r\n        ]\r\n      },\r\n      options1: {\r\n        type: 'line',\r\n        title: {\r\n          text: '一周店铺销量变化'\r\n        },\r\n        bgColor: '#fff',\r\n        labels: ['周一', '周二', '周三', '周四', '周五', '周六', '周日'],\r\n\r\n        datasets: [\r\n          {\r\n            label: '销量',\r\n\r\n            fillColor: 'rgba(241, 49, 74, 0.5)',\r\n\r\n            data: this.shoplist\r\n          }\r\n        ]\r\n      },\r\n      shoplist: [],\r\n      booklist: [],\r\n      bookname: []\r\n    }\r\n  },\r\n  created () {\r\n    this.selectStoreTop()\r\n    this.storeOrderSum()\r\n  },\r\n  methods: {\r\n    async selectStoreTop () {\r\n      const { data: res } = await this.axios.post('/selectStoreTop', {\r\n        // store_id: window.sessionStorage.getItem('storeid')\r\n        store_id: 1\r\n      })\r\n      if (res.status !== '1') return this.$message.error('获取图书top失败')\r\n      this.$message.success('获取图书TOP成功')\r\n      console.log(res)\r\n      const data = res.data\r\n      const props = Object.keys(data)\r\n      console.log(props)\r\n      props.forEach(prop => {\r\n        this.bookname[prop] = data[prop].bookname\r\n      })\r\n      console.log(this.bookname)\r\n    },\r\n    async storeOrderSum () {\r\n      const { data: res } = await this.axios.post('/storeOrderSum', {\r\n        // store_id: window.sessionStorage.getItem('storeid')\r\n        store_id: 1\r\n      })\r\n      if (res.status !== '1') return this.$message.error('获取销量失败')\r\n      this.$message.success('获取销量成功')\r\n      console.log(res)\r\n      for (const item of res.data) {\r\n        this.shoplist.push(parseInt(item.销量))\r\n      }\r\n      console.log(this.shoplist)\r\n    }\r\n  },\r\n  components: {\r\n    Schart\r\n  }\r\n}\r\n\r\n</script>\r\n\r\n<style>\r\n.wrapper {\r\n    width: 500px;\r\n    height: 350px;\r\n}\r\n\r\n.schart {\r\n\r\n    width: 100%;\r\n\r\n    height: 300px;\r\n\r\n}\r\n\r\n</style>\r\n"]}]}