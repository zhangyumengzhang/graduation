{"remainingRequest":"D:\\2021graduate\\graduation\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\2021graduate\\graduation\\node_modules\\mint-ui\\packages\\index-list\\src\\index-list.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"D:\\2021graduate\\graduation\\node_modules\\mint-ui\\packages\\index-list\\src\\index-list.vue","mtime":1611497133402},{"path":"D:\\2021graduate\\graduation\\node_modules\\css-loader\\dist\\cjs.js","mtime":1594033219529},{"path":"D:\\2021graduate\\graduation\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1594033220124},{"path":"D:\\2021graduate\\graduation\\node_modules\\postcss-loader\\src\\index.js","mtime":1594033219961},{"path":"D:\\2021graduate\\graduation\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1594033213228},{"path":"D:\\2021graduate\\graduation\\node_modules\\vue-loader\\lib\\index.js","mtime":1594033220124}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgpAaW1wb3J0ICIuLi8uLi8uLi9zcmMvc3R5bGUvdmFyLmNzcyI7CgpAY29tcG9uZW50LW5hbWVzcGFjZSBtaW50IHsKICBAY29tcG9uZW50IGluZGV4bGlzdCB7CiAgICB3aWR0aDogMTAwJTsKICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICAKICAgIEBkZXNjZW5kZW50IGNvbnRlbnQgewogICAgICBtYXJnaW46IDA7CiAgICAgIHBhZGRpbmc6IDA7CiAgICAgIG92ZXJmbG93OiBhdXRvOwogICAgfQogICAgCiAgICBAZGVzY2VuZGVudCBuYXYgewogICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgIHRvcDogMDsKICAgICAgYm90dG9tOiAwOwogICAgICByaWdodDogMDsKICAgICAgbWFyZ2luOiAwOwogICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOwogICAgICBib3JkZXItbGVmdDogc29saWQgMXB4ICNkZGQ7CiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgbWF4LWhlaWdodDogMTAwJTsKICAgICAgZGlzcGxheTogZmxleDsKICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICB9CiAgICAKICAgIEBkZXNjZW5kZW50IG5hdmxpc3QgewogICAgICBwYWRkaW5nOiAwOwogICAgICBtYXJnaW46IDA7CiAgICAgIGxpc3Qtc3R5bGU6IG5vbmU7CiAgICAgIG1heC1oZWlnaHQ6IDEwMCU7CiAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICB9CiAgICAKICAgIEBkZXNjZW5kZW50IG5hdml0ZW0gewogICAgICBwYWRkaW5nOiAycHggNnB4OwogICAgICBmb250LXNpemU6IDEycHg7CiAgICAgIHVzZXItc2VsZWN0OiBub25lOwogICAgICAtd2Via2l0LXRvdWNoLWNhbGxvdXQ6IG5vbmU7CiAgICB9CiAgICAKICAgIEBkZXNjZW5kZW50IGluZGljYXRvciB7CiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgc2l6ZTogNTBweDsKICAgICAgdG9wOiA1MCU7CiAgICAgIGxlZnQ6IDUwJTsKICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7CiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgbGluZS1oZWlnaHQ6IDUwcHg7CiAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgLjcpOwogICAgICBib3JkZXItcmFkaXVzOiA1cHg7CiAgICAgIGNvbG9yOiAjZmZmOwogICAgICBmb250LXNpemU6IDIycHg7CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["index-list.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAiBA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index-list.vue","sourceRoot":"node_modules/mint-ui/packages/index-list/src","sourcesContent":["<template>\n  <div class=\"mint-indexlist\">\n    <ul class=\"mint-indexlist-content\" ref=\"content\" :style=\"{ 'height': currentHeight + 'px', 'margin-right': navWidth + 'px'}\">\n      <slot></slot>\n    </ul>\n    \n    <div class=\"mint-indexlist-nav\" @touchstart=\"handleTouchStart\" ref=\"nav\">\n      <ul class=\"mint-indexlist-navlist\">\n        <li class=\"mint-indexlist-navitem\" v-for=\"section in sections\">{{ section.index }}</li>\n      </ul>\n    </div>\n    \n    <div class=\"mint-indexlist-indicator\" v-if=\"showIndicator\" v-show=\"moving\">{{ currentIndicator }}</div>\n  </div>\n</template>\n\n<style lang=\"css\">\n  @import \"../../../src/style/var.css\";\n\n  @component-namespace mint {\n    @component indexlist {\n      width: 100%;\n      position: relative;\n      overflow: hidden;\n      \n      @descendent content {\n        margin: 0;\n        padding: 0;\n        overflow: auto;\n      }\n      \n      @descendent nav {\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        right: 0;\n        margin: 0;\n        background-color: #fff;\n        border-left: solid 1px #ddd;\n        text-align: center;\n        max-height: 100%;\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n      }\n      \n      @descendent navlist {\n        padding: 0;\n        margin: 0;\n        list-style: none;\n        max-height: 100%;\n        display: flex;\n        flex-direction: column;\n      }\n      \n      @descendent navitem {\n        padding: 2px 6px;\n        font-size: 12px;\n        user-select: none;\n        -webkit-touch-callout: none;\n      }\n      \n      @descendent indicator {\n        position: absolute;\n        size: 50px;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        text-align: center;\n        line-height: 50px;\n        background-color: rgba(0, 0, 0, .7);\n        border-radius: 5px;\n        color: #fff;\n        font-size: 22px;\n      }\n    }\n  }\n</style>\n\n<script type=\"text/babel\">\n  export default {\n    name: 'mt-index-list',\n\n    props: {\n      height: Number,\n      showIndicator: {\n        type: Boolean,\n        default: true\n      }\n    },\n\n    data() {\n      return {\n        sections: [],\n        navWidth: 0,\n        indicatorTime: null,\n        moving: false,\n        firstSection: null,\n        currentIndicator: '',\n        currentHeight: this.height,\n        navOffsetX: 0\n      };\n    },\n\n    watch: {\n      sections() {\n        this.init();\n      },\n      height(val) {\n        if (val) {\n          this.currentHeight = val;\n        }\n      }\n    },\n\n    methods: {\n      init() {\n        this.$nextTick(() => {\n          this.navWidth = this.$refs.nav.clientWidth;\n        });\n        let listItems = this.$refs.content.getElementsByTagName('li');\n        if (listItems.length > 0) {\n          this.firstSection = listItems[0];\n        }\n      },\n\n      handleTouchStart(e) {\n        if (e.target.tagName !== 'LI') {\n          return;\n        }\n        this.navOffsetX = e.changedTouches[0].clientX;\n        this.scrollList(e.changedTouches[0].clientY);\n        if (this.indicatorTime) {\n          clearTimeout(this.indicatorTime);\n        }\n        this.moving = true;\n        window.addEventListener('touchmove', this.handleTouchMove);\n        window.addEventListener('touchend', this.handleTouchEnd);\n      },\n\n      handleTouchMove(e) {\n        e.preventDefault();\n        this.scrollList(e.changedTouches[0].clientY);\n      },\n\n      handleTouchEnd() {\n        this.indicatorTime = setTimeout(() => {\n          this.moving = false;\n          this.currentIndicator = '';\n        }, 500);\n        window.removeEventListener('touchmove', this.handleTouchMove);\n        window.removeEventListener('touchend', this.handleTouchEnd);\n      },\n\n      scrollList(y) {\n        let currentItem = document.elementFromPoint(this.navOffsetX, y);\n        if (!currentItem || !currentItem.classList.contains('mint-indexlist-navitem')) {\n          return;\n        }\n        this.currentIndicator = currentItem.innerText;\n        let targets = this.sections.filter(section => section.index === currentItem.innerText);\n        let targetDOM;\n        if (targets.length > 0) {\n          targetDOM = targets[0].$el;\n          this.$refs.content.scrollTop = targetDOM.getBoundingClientRect().top - this.firstSection.getBoundingClientRect().top;\n        }\n      }\n    },\n\n    mounted() {\n      if (!this.currentHeight) {\n        window.scrollTo(0, 0);\n        requestAnimationFrame(()=>{\n          this.currentHeight = document.documentElement.clientHeight - this.$refs.content.getBoundingClientRect().top;\n        });\n      }\n      this.init();\n    }\n  };\n</script>\n"]}]}