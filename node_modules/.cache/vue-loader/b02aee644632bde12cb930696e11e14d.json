{"remainingRequest":"D:\\2021graduate\\graduation\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\2021graduate\\graduation\\node_modules\\vue-aplayer\\src\\vue-aplayer.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\2021graduate\\graduation\\node_modules\\vue-aplayer\\src\\vue-aplayer.vue","mtime":1612070388741},{"path":"D:\\2021graduate\\graduation\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1594033213228},{"path":"D:\\2021graduate\\graduation\\node_modules\\babel-loader\\lib\\index.js","mtime":1594033213222},{"path":"D:\\2021graduate\\graduation\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1594033213228},{"path":"D:\\2021graduate\\graduation\\node_modules\\vue-loader\\lib\\index.js","mtime":1594033220124}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBWdWUgZnJvbSAndnVlJwppbXBvcnQgVGh1bWJuYWlsIGZyb20gJy4vY29tcG9uZW50cy9hcGxheWVyLXRodW1ibmFpbC52dWUnCmltcG9ydCBNdXNpY0xpc3QgZnJvbSAnLi9jb21wb25lbnRzL2FwbGF5ZXItbGlzdC52dWUnCmltcG9ydCBDb250cm9scyBmcm9tICcuL2NvbXBvbmVudHMvYXBsYXllci1jb250cm9sbGVyLnZ1ZScKaW1wb3J0IEx5cmljcyBmcm9tICcuL2NvbXBvbmVudHMvYXBsYXllci1scmMudnVlJwppbXBvcnQgeyBkZXByZWNhdGVkUHJvcCwgdmVyc2lvbkNvbXBhcmUsIHdhcm4gfSBmcm9tICcuL3V0aWxzJwoKbGV0IHZlcnNpb25CYWRnZVByaW50ZWQgPSBmYWxzZQpjb25zdCBjYW5Vc2VTeW5jID0gdmVyc2lvbkNvbXBhcmUoVnVlLnZlcnNpb24sICcyLjMuMCcpID49IDAKCi8qKgogKiBtZW1vcml6ZSBzZWxmLWFkYXB0aW5nIHRoZW1lIGZvciBjb3ZlciBpbWFnZSB1cmxzCiAqIEB0eXBlIHtPYmplY3QuPHVybCwgcmdiKCk+fQogKi8KY29uc3QgcGljVGhlbWVDYWNoZSA9IHt9CgovLyBtdXRleCBwbGF5aW5nIGluc3RhbmNlCmxldCBhY3RpdmVNdXRleCA9IG51bGwKCgpjb25zdCBSRVBFQVQgPSB7CiAgTk9ORTogJ25vbmUnLAogIE1VU0lDOiAnbXVzaWMnLAogIExJU1Q6ICdsaXN0JywKICBOT19SRVBFQVQ6ICduby1yZXBlYXQnLAogIFJFUEVBVF9PTkU6ICdyZXBlYXQtb25lJywKICBSRVBFQVRfQUxMOiAncmVwZWF0LWFsbCcsCn07Cgpjb25zdCBWdWVBUGxheWVyID0gewogIG5hbWU6ICdBUGxheWVyJywKICBkaXNhYmxlVmVyc2lvbkJhZGdlOiBmYWxzZSwKICBjb21wb25lbnRzOiB7CiAgICBUaHVtYm5haWwsCiAgICBDb250cm9scywKICAgIE11c2ljTGlzdCwKICAgIEx5cmljcywKICB9LAogIHByb3BzOiB7CiAgICBtdXNpYzogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICB2YWxpZGF0b3IgKHNvbmcpIHsKICAgICAgICBpZiAoc29uZy51cmwpIHsKICAgICAgICAgIGRlcHJlY2F0ZWRQcm9wKCdtdXNpYy51cmwnLCAnMS40LjAnLCAnbXVzaWMuc3JjJykKICAgICAgICB9CiAgICAgICAgaWYgKHNvbmcuYXV0aG9yKSB7CiAgICAgICAgICBkZXByZWNhdGVkUHJvcCgnbXVzaWMuYXV0aG9yJywgJzEuNC4xJywgJ211c2ljLmFydGlzdCcpCiAgICAgICAgfQogICAgICAgIHJldHVybiBzb25nLnNyYyB8fCBzb25nLnVybAogICAgICB9LAogICAgfSwKICAgIGxpc3Q6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQgKCkgewogICAgICAgIHJldHVybiBbXQogICAgICB9LAogICAgfSwKICAgIG1pbmk6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UsCiAgICB9LAogICAgc2hvd0xyYzogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZSwKICAgIH0sCiAgICBtdXRleDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlLAogICAgfSwKICAgIHRoZW1lOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJyM0MWI4ODMnLAogICAgfSwKCiAgICBsaXN0TWF4SGVpZ2h0OiBTdHJpbmcsCiAgICAvKioKICAgICAqIEBzaW5jZSAxLjQuMQogICAgICogRm9sZCBwbGF5bGlzdCBpbml0aWFsbHkKICAgICAqLwogICAgbGlzdEZvbGRlZDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZSwKICAgIH0sCgogICAgLyoqCiAgICAgKiBAc2luY2UgMS4yLjAgRmxvYXQgbW9kZQogICAgICovCiAgICBmbG9hdDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZSwKICAgIH0sCgogICAgLy8gQXVkaW8gYXR0cmlidXRlcyBhcyBwcm9wcwogICAgLy8gc2luY2UgMS40LjAKICAgIC8vIGF1dG9wbGF5IGNvbnRyb2xzIG11dGVkIHByZWxvYWQgdm9sdW1lCiAgICAvLyBhdXRvcGxheSBpcyBub3Qgb2JzZXJ2YWJsZQoKICAgIC8qKgogICAgICogQHNpbmNlIDEuNC4wCiAgICAgKiBub3Qgb2JzZXJ2YWJsZQogICAgICovCiAgICBhdXRvcGxheTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZSwKICAgIH0sCgogICAgLyoqCiAgICAgKiBAc2luY2UgMS40LjAKICAgICAqIHdoZXRoZXIgdG8gc2hvdyBuYXRpdmUgYXVkaW8gY29udHJvbHMgYmVsb3cgVnVlLUFQbGF5ZXIKICAgICAqIG9ubHkgd29yayBpbiBkZXZlbG9wbWVudCBlbnZpcm9ubWVudCBhbmQgbm90IG1pbmkgbW9kZQogICAgICoKICAgICAqIG9ic2VydmFibGUKICAgICAqLwogICAgY29udHJvbHM6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UsCiAgICB9LAoKICAgIC8qKgogICAgICogQHNpbmNlIDEuNC4wCiAgICAgKiBvYnNlcnZhYmxlLCBzeW5jCiAgICAgKi8KICAgIG11dGVkOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlLAogICAgfSwKICAgIC8qKgogICAgICogQHNpbmNlIDEuNC4wCiAgICAgKiBvYnNlcnZhYmxlCiAgICAgKi8KICAgIHByZWxvYWQ6IFN0cmluZywKCiAgICAvKioKICAgICAqIEBzaW5jZSAxLjQuMAogICAgICogb2JzZXJ2YWJsZSwgc3luYwogICAgICovCiAgICB2b2x1bWU6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAwLjgsCiAgICAgIHZhbGlkYXRvciAodmFsdWUpIHsKICAgICAgICByZXR1cm4gdmFsdWUgPj0gMCAmJiB2YWx1ZSA8PSAxCiAgICAgIH0sCiAgICB9LAoKICAgIC8vIHBsYXkgb3JkZXIgY29udHJvbAogICAgLy8gc2luY2UgMS41LjAKCiAgICAvKioKICAgICAqIEBzaW5jZSAxLjUuMAogICAgICogQHNlZSBodHRwczovL3N1cHBvcnQuYXBwbGUuY29tL2VuLXVzL0hUMjA3MjMwCiAgICAgKiB0d29XYXkKICAgICAqLwogICAgc2h1ZmZsZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZSwKICAgIH0sCiAgICAvKioKICAgICAqIEBzaW5jZSAxLjUuMAogICAgICogQHNlZSBodHRwczovL3N1cHBvcnQuYXBwbGUuY29tL2VuLXVzL0hUMjA3MjMwCiAgICAgKiB0d29XYXkKICAgICAqLwogICAgcmVwZWF0OiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogUkVQRUFULk5PX1JFUEVBVCwKICAgIH0sCgoKICAgIC8vIGRlcHJlY2F0ZWQgcHJvcHMKCiAgICAvKioKICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDEuMS4yLCB1c2UgbGlzdE1heEhlaWdodCBpbnN0ZWFkCiAgICAgKi8KICAgIGxpc3RtYXhoZWlnaHQ6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICB2YWxpZGF0b3IgKHZhbHVlKSB7CiAgICAgICAgaWYgKHZhbHVlKSB7CiAgICAgICAgICBkZXByZWNhdGVkUHJvcCgnbGlzdG1heGhlaWdodCcsICcxLjEuMicsICdsaXN0TWF4SGVpZ2h0JykKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHRydWUKICAgICAgfSwKICAgIH0sCiAgICAvKioKICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDEuMS4yLCB1c2UgbWluaSBpbnN0ZWFkCiAgICAgKi8KICAgIG5hcnJvdzogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZSwKICAgICAgdmFsaWRhdG9yICh2YWx1ZSkgewogICAgICAgIGlmICh2YWx1ZSkgewogICAgICAgICAgZGVwcmVjYXRlZFByb3AoJ25hcnJvdycsICcxLjEuMicsICdtaW5pJykKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHRydWUKICAgICAgfSwKICAgIH0sCiAgICAvKioKICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDEuMi4yCiAgICAgKi8KICAgIHNob3dscmM6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UsCiAgICAgIHZhbGlkYXRvciAodmFsdWUpIHsKICAgICAgICBpZiAodmFsdWUpIHsKICAgICAgICAgIGRlcHJlY2F0ZWRQcm9wKCdzaG93bHJjJywgJzEuMi4yJywgJ3Nob3dMcmMnKQogICAgICAgIH0KICAgICAgICByZXR1cm4gdHJ1ZQogICAgICB9LAogICAgfSwKICAgIC8qKgogICAgICogQGRlcHJlY2F0ZWQgYW5kIFJFTU9WRUQgc2luY2UgMS41LjAKICAgICAqLwogICAgLy8gbW9kZTogewogICAgLy8gICB0eXBlOiBTdHJpbmcsCiAgICAvLyAgIGRlZmF1bHQ6ICdjaXJjdWxhdGlvbicsCiAgICAvLyAgIHZhbGlkYXRvciAodmFsdWUpIHsKICAgIC8vICAgICBpZiAodmFsdWUpIHsKICAgIC8vICAgICAgIGRlcHJlY2F0ZWRQcm9wKCdtb2RlJywgJzEuNS4wJywgJ3NodWZmbGUgYW5kIHJlcGVhdCcpCiAgICAvLyAgICAgfQogICAgLy8gICAgIHJldHVybiB0cnVlCiAgICAvLyAgIH0KICAgIC8vIH0sCiAgfSwKICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIGludGVybmFsTXVzaWM6IHRoaXMubXVzaWMsCiAgICAgIGlzUGxheWluZzogZmFsc2UsCiAgICAgIGlzU2Vla2luZzogZmFsc2UsCiAgICAgIHdhc1BsYXlpbmdCZWZvcmVTZWVraW5nOiBmYWxzZSwKICAgICAgaXNNb2JpbGU6IC9tb2JpbGUvaS50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KSwKICAgICAgcGxheVN0YXQ6IHsKICAgICAgICBkdXJhdGlvbjogMCwKICAgICAgICBsb2FkZWRUaW1lOiAwLAogICAgICAgIHBsYXllZFRpbWU6IDAsCiAgICAgIH0sCiAgICAgIHNob3dMaXN0OiAhdGhpcy5saXN0Rm9sZGVkLAoKICAgICAgLy8gaGFuZGxlIFByb21pc2UgcmV0dXJuZWQgZnJvbSBhdWRpby5wbGF5KCkKICAgICAgLy8gQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvSFRNTE1lZGlhRWxlbWVudC9wbGF5CiAgICAgIGF1ZGlvUGxheVByb21pc2U6IFByb21pc2UucmVzb2x2ZSgpLAoKCiAgICAgIC8vIEBzaW5jZSAxLjIuMCBmbG9hdCBtb2RlCgogICAgICBmbG9hdE9yaWdpblg6IDAsCiAgICAgIGZsb2F0T3JpZ2luWTogMCwKICAgICAgZmxvYXRPZmZzZXRMZWZ0OiAwLAogICAgICBmbG9hdE9mZnNldFRvcDogMCwKCgogICAgICAvLyBAc2luY2UgMS4zLjAgc2VsZiBhZGFwdGluZyB0aGVtZQogICAgICBzZWxmQWRhcHRpbmdUaGVtZTogbnVsbCwKCgogICAgICAvLyBAc2luY2UgMS40LjAKICAgICAgLy8gc3luYyBtdXRlZCwgdm9sdW1lCgogICAgICBpbnRlcm5hbE11dGVkOiB0aGlzLm11dGVkLAogICAgICBpbnRlcm5hbFZvbHVtZTogdGhpcy52b2x1bWUsCgogICAgICAvLyBAc2luY2UgMS40LjEKICAgICAgLy8gTG9hZGluZyBpbmRpY2F0b3IKICAgICAgaXNMb2FkaW5nOiBmYWxzZSwKCgogICAgICAvLyBAc2luY2UgMS41LjEKICAgICAgLy8gc3luYyBzaHVmZmxlLCByZXBlYXQKICAgICAgaW50ZXJuYWxTaHVmZmxlOiB0aGlzLnNodWZmbGUsCiAgICAgIGludGVybmFsUmVwZWF0OiB0aGlzLnJlcGVhdCwKICAgICAgLy8gZm9yIHNodWZmbGluZwogICAgICBzaHVmZmxlZExpc3Q6IFtdLAogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC8vIGFsaWFzIGZvciAkcmVmcy5hdWRpbwogICAgYXVkaW8gKCkgewogICAgICByZXR1cm4gdGhpcy4kcmVmcy5hdWRpbwogICAgfSwKCiAgICAvLyBzeW5jIG11c2ljCiAgICBjdXJyZW50TXVzaWM6IHsKICAgICAgZ2V0ICgpIHsKICAgICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbE11c2ljCiAgICAgIH0sCiAgICAgIHNldCAodmFsKSB7CiAgICAgICAgY2FuVXNlU3luYyAmJiB0aGlzLiRlbWl0KCd1cGRhdGU6bXVzaWMnLCB2YWwpCiAgICAgICAgdGhpcy5pbnRlcm5hbE11c2ljID0gdmFsCiAgICAgIH0sCiAgICB9LAogICAgLy8gY29tcGF0aWJsZSBmb3IgZGVwcmVjYXRlZCBwcm9wcwogICAgaXNNaW5pTW9kZSAoKSB7CiAgICAgIHJldHVybiB0aGlzLm1pbmkgfHwgdGhpcy5uYXJyb3cKICAgIH0sCiAgICBzaG91bGRTaG93THJjICgpIHsKICAgICAgcmV0dXJuIHRoaXMuc2hvd0xyYyB8fCB0aGlzLnNob3dscmMKICAgIH0sCgogICAgLy8gcHJvcHMgd3JhcHBlcnMKCiAgICBjdXJyZW50VGhlbWUgKCkgewogICAgICByZXR1cm4gdGhpcy5zZWxmQWRhcHRpbmdUaGVtZSB8fCB0aGlzLmN1cnJlbnRNdXNpYy50aGVtZSB8fCB0aGlzLnRoZW1lCiAgICB9LAogICAgaXNGbG9hdE1vZGUgKCkgewogICAgICByZXR1cm4gdGhpcy5mbG9hdCAmJiAhdGhpcy5pc01vYmlsZQogICAgfSwKICAgIHNob3VsZEF1dG9wbGF5ICgpIHsKICAgICAgaWYgKHRoaXMuaXNNb2JpbGUpIHJldHVybiBmYWxzZQogICAgICByZXR1cm4gdGhpcy5hdXRvcGxheQogICAgfSwKICAgIG11c2ljTGlzdCAoKSB7CiAgICAgIHJldHVybiB0aGlzLmxpc3QKICAgIH0sCiAgICBzaG91bGRTaG93TmF0aXZlQ29udHJvbHMgKCkgewogICAgICByZXR1cm4gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJgogICAgICAgIHRoaXMuY29udHJvbHMgJiYKICAgICAgICAhdGhpcy5pc01pbmlNb2RlCiAgICB9LAoKICAgIC8vIHVzZWZ1bAoKICAgIGZsb2F0U3R5bGVPYmogKCkgewogICAgICAvLyB0cmFuc2Zvcm06IHRyYW5zbGF0ZShmbG9hdE9mZnNldExlZnQsIGZsb2F0T2Zmc2V0WSkKICAgICAgcmV0dXJuIHsKICAgICAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGUoJHt0aGlzLmZsb2F0T2Zmc2V0TGVmdH1weCwgJHt0aGlzLmZsb2F0T2Zmc2V0VG9wfXB4KWAsCiAgICAgICAgd2Via2l0VHJhbnNmb3JtOiBgdHJhbnNsYXRlKCR7dGhpcy5mbG9hdE9mZnNldExlZnR9cHgsICR7dGhpcy5mbG9hdE9mZnNldFRvcH1weClgLAogICAgICB9CiAgICB9LAogICAgY3VycmVudFBpY1N0eWxlT2JqICgpIHsKICAgICAgaWYgKHRoaXMuY3VycmVudE11c2ljICYmIHRoaXMuY3VycmVudE11c2ljLnBpYykgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6IGB1cmwoJHt0aGlzLmN1cnJlbnRNdXNpYy5waWN9KWAsCiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiB7fQogICAgfSwKICAgIGxvYWRQcm9ncmVzcyAoKSB7CiAgICAgIGlmICh0aGlzLnBsYXlTdGF0LmR1cmF0aW9uID09PSAwKSByZXR1cm4gMAogICAgICByZXR1cm4gdGhpcy5wbGF5U3RhdC5sb2FkZWRUaW1lIC8gdGhpcy5wbGF5U3RhdC5kdXJhdGlvbgogICAgfSwKICAgIHBsYXlQcm9ncmVzcyAoKSB7CiAgICAgIGlmICh0aGlzLnBsYXlTdGF0LmR1cmF0aW9uID09PSAwKSByZXR1cm4gMAogICAgICByZXR1cm4gdGhpcy5wbGF5U3RhdC5wbGF5ZWRUaW1lIC8gdGhpcy5wbGF5U3RhdC5kdXJhdGlvbgogICAgfSwKICAgIHBsYXlJbmRleDogewogICAgICBnZXQgKCkgewogICAgICAgIHJldHVybiB0aGlzLnNodWZmbGVkTGlzdC5pbmRleE9mKHRoaXMuY3VycmVudE11c2ljKQogICAgICB9LAogICAgICBzZXQgKHZhbCkgewogICAgICAgIHRoaXMuY3VycmVudE11c2ljID0gdGhpcy5zaHVmZmxlZExpc3RbdmFsICUgdGhpcy5zaHVmZmxlZExpc3QubGVuZ3RoXQogICAgICB9LAogICAgfSwKICAgIHNob3VsZFJlcGVhdCAoKSB7CiAgICAgIHJldHVybiB0aGlzLnJlcGVhdE1vZGUgIT09IFJFUEVBVC5OT19SRVBFQVQKICAgIH0sCgogICAgLy8gc2luY2UgMS40LjAKICAgIC8vIHN5bmMgbXV0ZWQsIHZvbHVtZQoKICAgIGlzQXVkaW9NdXRlZDogewogICAgICBnZXQgKCkgewogICAgICAgIHJldHVybiB0aGlzLmludGVybmFsTXV0ZWQKICAgICAgfSwKICAgICAgc2V0ICh2YWwpIHsKICAgICAgICBjYW5Vc2VTeW5jICYmIHRoaXMuJGVtaXQoJ3VwZGF0ZTptdXRlZCcsIHZhbCkKICAgICAgICB0aGlzLmludGVybmFsTXV0ZWQgPSB2YWwKICAgICAgfSwKICAgIH0sCiAgICBhdWRpb1ZvbHVtZTogewogICAgICBnZXQgKCkgewogICAgICAgIHJldHVybiB0aGlzLmludGVybmFsVm9sdW1lCiAgICAgIH0sCiAgICAgIHNldCAodmFsKSB7CiAgICAgICAgY2FuVXNlU3luYyAmJiB0aGlzLiRlbWl0KCd1cGRhdGU6dm9sdW1lJywgdmFsKQogICAgICAgIHRoaXMuaW50ZXJuYWxWb2x1bWUgPSB2YWwKICAgICAgfSwKICAgIH0sCgoKICAgIC8vIHNpbmNlIDEuNS4wCiAgICAvLyBzeW5jIHNodWZmbGUsIHJlcGVhdAogICAgc2hvdWxkU2h1ZmZsZTogewogICAgICBnZXQgKCkgewogICAgICAgIHJldHVybiB0aGlzLmludGVybmFsU2h1ZmZsZQogICAgICB9LAogICAgICBzZXQgKHZhbCkgewogICAgICAgIGNhblVzZVN5bmMgJiYgdGhpcy4kZW1pdCgndXBkYXRlOnNodWZmbGUnLCB2YWwpCiAgICAgICAgdGhpcy5pbnRlcm5hbFNodWZmbGUgPSB2YWwKICAgICAgfSwKICAgIH0sCiAgICByZXBlYXRNb2RlOiB7CiAgICAgIGdldCAoKSB7CiAgICAgICAgc3dpdGNoICh0aGlzLmludGVybmFsUmVwZWF0KSB7CiAgICAgICAgICBjYXNlIFJFUEVBVC5OT05FOgogICAgICAgICAgY2FzZSBSRVBFQVQuTk9fUkVQRUFUOgogICAgICAgICAgICByZXR1cm4gUkVQRUFULk5PX1JFUEVBVAogICAgICAgICAgY2FzZSBSRVBFQVQuTVVTSUM6CiAgICAgICAgICBjYXNlIFJFUEVBVC5SRVBFQVRfT05FOgogICAgICAgICAgICByZXR1cm4gUkVQRUFULlJFUEVBVF9PTkUKICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIHJldHVybiBSRVBFQVQuUkVQRUFUX0FMTAogICAgICAgIH0KICAgICAgfSwKICAgICAgc2V0ICh2YWwpIHsKICAgICAgICBjYW5Vc2VTeW5jICYmIHRoaXMuJGVtaXQoJ3VwZGF0ZTpyZXBlYXQnLCB2YWwpCiAgICAgICAgdGhpcy5pbnRlcm5hbFJlcGVhdCA9IHZhbAogICAgICB9LAogICAgfSwKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIEZsb2F0IG1vZGUKCiAgICBvbkRyYWdCZWdpbiAoKSB7CiAgICAgIHRoaXMuZmxvYXRPcmlnaW5YID0gdGhpcy5mbG9hdE9mZnNldExlZnQKICAgICAgdGhpcy5mbG9hdE9yaWdpblkgPSB0aGlzLmZsb2F0T2Zmc2V0VG9wCiAgICB9LAogICAgb25EcmFnQXJvdW5kICh7IG9mZnNldExlZnQsIG9mZnNldFRvcCB9KSB7CiAgICAgIHRoaXMuZmxvYXRPZmZzZXRMZWZ0ID0gdGhpcy5mbG9hdE9yaWdpblggKyBvZmZzZXRMZWZ0CiAgICAgIHRoaXMuZmxvYXRPZmZzZXRUb3AgPSB0aGlzLmZsb2F0T3JpZ2luWSArIG9mZnNldFRvcAogICAgfSwKCiAgICAvLyBmdW5jdGlvbnMKCiAgICBzZXROZXh0TW9kZSAoKSB7CiAgICAgIGlmICh0aGlzLnJlcGVhdE1vZGUgPT09IFJFUEVBVC5SRVBFQVRfQUxMKSB7CiAgICAgICAgdGhpcy5yZXBlYXRNb2RlID0gUkVQRUFULlJFUEVBVF9PTkUKICAgICAgfSBlbHNlIGlmICh0aGlzLnJlcGVhdE1vZGUgPT09IFJFUEVBVC5SRVBFQVRfT05FKSB7CiAgICAgICAgdGhpcy5yZXBlYXRNb2RlID0gUkVQRUFULk5PX1JFUEVBVAogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMucmVwZWF0TW9kZSA9IFJFUEVBVC5SRVBFQVRfQUxMCiAgICAgIH0KICAgIH0sCiAgICB0aGVuUGxheSAoKSB7CiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICB0aGlzLnBsYXkoKQogICAgICB9KQogICAgfSwKCiAgICAvLyBjb250cm9scwoKICAgIC8vIHBsYXkvcGF1c2UKCiAgICB0b2dnbGUgKCkgewogICAgICBpZiAoIXRoaXMuYXVkaW8ucGF1c2VkKSB7CiAgICAgICAgdGhpcy5wYXVzZSgpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5wbGF5KCkKICAgICAgfQogICAgfSwKICAgIHBsYXkgKCkgewogICAgICBpZiAodGhpcy5tdXRleCkgewogICAgICAgIGlmIChhY3RpdmVNdXRleCAmJiBhY3RpdmVNdXRleCAhPT0gdGhpcykgewogICAgICAgICAgYWN0aXZlTXV0ZXgucGF1c2UoKQogICAgICAgIH0KICAgICAgICBhY3RpdmVNdXRleCA9IHRoaXMKICAgICAgfQogICAgICAvLyBoYW5kbGUgLnBsYXkoKSBQcm9taXNlCiAgICAgIGNvbnN0IGF1ZGlvUGxheVByb21pc2UgPSB0aGlzLmF1ZGlvLnBsYXkoKQogICAgICBpZiAoYXVkaW9QbGF5UHJvbWlzZSkgewogICAgICAgIHJldHVybiB0aGlzLmF1ZGlvUGxheVByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CiAgICAgICAgICAvLyByZWplY3RQbGF5UHJvbWlzZSBpcyB0byBmb3JjZSByZWplY3QgYXVkaW9QbGF5UHJvbWlzZSBpZiBpdCdzIHN0aWxsIHBlbmRpbmcgd2hlbiBwYXVzZSgpIGlzIGNhbGxlZAogICAgICAgICAgdGhpcy5yZWplY3RQbGF5UHJvbWlzZSA9IHJlamVjdAogICAgICAgICAgYXVkaW9QbGF5UHJvbWlzZS50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgdGhpcy5yZWplY3RQbGF5UHJvbWlzZSA9IG51bGwKICAgICAgICAgICAgcmVzb2x2ZShyZXMpCiAgICAgICAgICB9KS5jYXRjaCh3YXJuKQogICAgICAgIH0pCiAgICAgIH0KICAgIH0sCiAgICBwYXVzZSAoKSB7CiAgICAgIHRoaXMuYXVkaW9QbGF5UHJvbWlzZQogICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgIHRoaXMuYXVkaW8ucGF1c2UoKQogICAgICAgIH0pCiAgICAgICAgLy8gQXZvaWQgZm9yY2UgcmVqZWN0aW9uIHRocm93cyBVbmNhdWdodAogICAgICAgIC5jYXRjaCgoKSA9PiB7CiAgICAgICAgICB0aGlzLmF1ZGlvLnBhdXNlKCkKICAgICAgICB9KQoKICAgICAgLy8gYXVkaW9QbGF5UHJvbWlzZSBpcyBzdGlsbCBwZW5kaW5nCiAgICAgIGlmICh0aGlzLnJlamVjdFBsYXlQcm9taXNlKSB7CiAgICAgICAgLy8gZm9yY2UgcmVqZWN0IHBsYXlQcm9taXNlCiAgICAgICAgdGhpcy5yZWplY3RQbGF5UHJvbWlzZSgpCiAgICAgICAgdGhpcy5yZWplY3RQbGF5UHJvbWlzZSA9IG51bGwKICAgICAgfQogICAgfSwKCiAgICAvLyBwcm9ncmVzcyBiYXIKCiAgICBvblByb2dyZXNzRHJhZ0JlZ2luICh2YWwpIHsKICAgICAgdGhpcy53YXNQbGF5aW5nQmVmb3JlU2Vla2luZyA9IHRoaXMuaXNQbGF5aW5nCiAgICAgIHRoaXMucGF1c2UoKQogICAgICB0aGlzLmlzU2Vla2luZyA9IHRydWUKCiAgICAgIC8vIGhhbmRsZSBsb2FkIGZhaWx1cmVzCiAgICAgIGlmICghaXNOYU4odGhpcy5hdWRpby5kdXJhdGlvbikpIHsKICAgICAgICB0aGlzLmF1ZGlvLmN1cnJlbnRUaW1lID0gdGhpcy5hdWRpby5kdXJhdGlvbiAqIHZhbAogICAgICB9CiAgICB9LAogICAgb25Qcm9ncmVzc0RyYWdnaW5nICh2YWwpIHsKICAgICAgaWYgKGlzTmFOKHRoaXMuYXVkaW8uZHVyYXRpb24pKSB7CiAgICAgICAgdGhpcy5wbGF5U3RhdC5wbGF5ZWRUaW1lID0gMAogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuYXVkaW8uY3VycmVudFRpbWUgPSB0aGlzLmF1ZGlvLmR1cmF0aW9uICogdmFsCiAgICAgIH0KICAgIH0sCiAgICBvblByb2dyZXNzRHJhZ0VuZCAodmFsKSB7CiAgICAgIHRoaXMuaXNTZWVraW5nID0gZmFsc2UKCiAgICAgIGlmICh0aGlzLndhc1BsYXlpbmdCZWZvcmVTZWVraW5nKSB7CiAgICAgICAgdGhpcy50aGVuUGxheSgpCiAgICAgIH0KICAgIH0sCgogICAgLy8gdm9sdW1lCgogICAgdG9nZ2xlTXV0ZSAoKSB7CiAgICAgIHRoaXMuc2V0QXVkaW9NdXRlZCghdGhpcy5hdWRpby5tdXRlZCkKICAgIH0sCiAgICBzZXRBdWRpb011dGVkICh2YWwpIHsKICAgICAgdGhpcy5hdWRpby5tdXRlZCA9IHZhbAogICAgfSwKICAgIHNldEF1ZGlvVm9sdW1lICh2YWwpIHsKICAgICAgdGhpcy5hdWRpby52b2x1bWUgPSB2YWwKICAgICAgaWYgKHZhbCA+IDApIHsKICAgICAgICB0aGlzLnNldEF1ZGlvTXV0ZWQoZmFsc2UpCiAgICAgIH0KICAgIH0sCgogICAgLy8gcGxheWxpc3QKCiAgICBnZXRTaHVmZmxlZExpc3QgKCkgewogICAgICBpZiAoIXRoaXMubGlzdC5sZW5ndGgpIHsKICAgICAgICByZXR1cm4gW3RoaXMuaW50ZXJuYWxNdXNpY10KICAgICAgfQogICAgICBsZXQgdW5zaHVmZmxlZCA9IFsuLi50aGlzLmxpc3RdCiAgICAgIGlmICghdGhpcy5pbnRlcm5hbFNodWZmbGUgfHwgdW5zaHVmZmxlZC5sZW5ndGggPD0gMSkgewogICAgICAgIHJldHVybiB1bnNodWZmbGVkCiAgICAgIH0KCiAgICAgIGxldCBpbmRleE9mQ3VycmVudE11c2ljID0gdW5zaHVmZmxlZC5pbmRleE9mKHRoaXMuaW50ZXJuYWxNdXNpYykKICAgICAgaWYgKHVuc2h1ZmZsZWQubGVuZ3RoID09PSAyICYmIGluZGV4T2ZDdXJyZW50TXVzaWMgIT09IC0xKSB7CiAgICAgICAgaWYgKGluZGV4T2ZDdXJyZW50TXVzaWMgPT09IDApIHsKICAgICAgICAgIHJldHVybiB1bnNodWZmbGVkCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBbdGhpcy5pbnRlcm5hbE11c2ljLCB1bnNodWZmbGVkWzBdXQogICAgICAgIH0KICAgICAgfQogICAgICAvLyBzaHVmZmxlIGxpc3QKICAgICAgLy8gQHNlZSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy82Mjc0MzM5L2hvdy1jYW4taS1zaHVmZmxlLWFuLWFycmF5CiAgICAgIGZvciAobGV0IGkgPSB1bnNodWZmbGVkLmxlbmd0aCAtIDE7IGkgPiAwOyBpLS0pIHsKICAgICAgICBjb25zdCBqID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKGkgKyAxKSkKICAgICAgICBjb25zdCB0bXAgPSB1bnNodWZmbGVkW2ldCiAgICAgICAgdW5zaHVmZmxlZFtpXSA9IHVuc2h1ZmZsZWRbal0KICAgICAgICB1bnNodWZmbGVkW2pdID0gdG1wCiAgICAgIH0KCiAgICAgIC8vIHRha2UgY3VycmVudE11c2ljIHRvIGZpcnN0CiAgICAgIGlmIChpbmRleE9mQ3VycmVudE11c2ljICE9PSAtMSkgewogICAgICAgIGluZGV4T2ZDdXJyZW50TXVzaWMgPSB1bnNodWZmbGVkLmluZGV4T2YodGhpcy5pbnRlcm5hbE11c2ljKQogICAgICAgIGlmIChpbmRleE9mQ3VycmVudE11c2ljICE9PSAwKSB7CiAgICAgICAgICBbdW5zaHVmZmxlZFswXSwgdW5zaHVmZmxlZFtpbmRleE9mQ3VycmVudE11c2ljXV0gPSBbdW5zaHVmZmxlZFtpbmRleE9mQ3VycmVudE11c2ljXSwgdW5zaHVmZmxlZFswXV0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiB1bnNodWZmbGVkCiAgICB9LAoKICAgIG9uU2VsZWN0U29uZyAoc29uZykgewogICAgICBpZiAodGhpcy5jdXJyZW50TXVzaWMgPT09IHNvbmcpIHsKICAgICAgICB0aGlzLnRvZ2dsZSgpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5jdXJyZW50TXVzaWMgPSBzb25nCiAgICAgICAgdGhpcy50aGVuUGxheSgpCiAgICAgIH0KICAgIH0sCgogICAgLy8gZXZlbnQgaGFuZGxlcnMKICAgIC8vIGZvciBrZWVwaW5nIHVwIHdpdGggYXVkaW8gc3RhdGVzCgogICAgb25BdWRpb1BsYXkgKCkgewogICAgICB0aGlzLmlzUGxheWluZyA9IHRydWUKICAgIH0sCiAgICBvbkF1ZGlvUGF1c2UgKCkgewogICAgICB0aGlzLmlzUGxheWluZyA9IGZhbHNlCiAgICB9LAogICAgb25BdWRpb1dhaXRpbmcgKCkgewogICAgICB0aGlzLmlzTG9hZGluZyA9IHRydWUKICAgIH0sCiAgICBvbkF1ZGlvQ2FucGxheSAoKSB7CiAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2UKICAgIH0sCiAgICBvbkF1ZGlvRHVyYXRpb25DaGFuZ2UgKCkgewogICAgICBpZiAodGhpcy5hdWRpby5kdXJhdGlvbiAhPT0gMSkgewogICAgICAgIHRoaXMucGxheVN0YXQuZHVyYXRpb24gPSB0aGlzLmF1ZGlvLmR1cmF0aW9uCiAgICAgIH0KICAgIH0sCiAgICBvbkF1ZGlvUHJvZ3Jlc3MgKCkgewogICAgICBpZiAodGhpcy5hdWRpby5idWZmZXJlZC5sZW5ndGgpIHsKICAgICAgICB0aGlzLnBsYXlTdGF0LmxvYWRlZFRpbWUgPSB0aGlzLmF1ZGlvLmJ1ZmZlcmVkLmVuZCh0aGlzLmF1ZGlvLmJ1ZmZlcmVkLmxlbmd0aCAtIDEpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5wbGF5U3RhdC5sb2FkZWRUaW1lID0gMAogICAgICB9CiAgICB9LAogICAgb25BdWRpb1RpbWVVcGRhdGUgKCkgewogICAgICB0aGlzLnBsYXlTdGF0LnBsYXllZFRpbWUgPSB0aGlzLmF1ZGlvLmN1cnJlbnRUaW1lCiAgICB9LAogICAgb25BdWRpb1NlZWtpbmcgKCkgewogICAgICB0aGlzLnBsYXlTdGF0LnBsYXllZFRpbWUgPSB0aGlzLmF1ZGlvLmN1cnJlbnRUaW1lCiAgICB9LAogICAgb25BdWRpb1NlZWtlZCAoKSB7CiAgICAgIHRoaXMucGxheVN0YXQucGxheWVkVGltZSA9IHRoaXMuYXVkaW8uY3VycmVudFRpbWUKICAgIH0sCiAgICBvbkF1ZGlvVm9sdW1lQ2hhbmdlICgpIHsKICAgICAgdGhpcy5hdWRpb1ZvbHVtZSA9IHRoaXMuYXVkaW8udm9sdW1lCiAgICAgIHRoaXMuaXNBdWRpb011dGVkID0gdGhpcy5hdWRpby5tdXRlZAogICAgfSwKICAgIG9uQXVkaW9FbmRlZCAoKSB7CiAgICAgIC8vIGRldGVybWluZSBuZXh0IHNvbmcgYWNjb3JkaW5nIHRvIHNodWZmbGUgYW5kIHJlcGVhdAogICAgICBpZiAodGhpcy5yZXBlYXRNb2RlID09PSBSRVBFQVQuUkVQRUFUX0FMTCkgewogICAgICAgIGlmICh0aGlzLnNob3VsZFNodWZmbGUgJiYgdGhpcy5wbGF5SW5kZXggPT09IHRoaXMuc2h1ZmZsZWRMaXN0Lmxlbmd0aCAtIDEpIHsKICAgICAgICAgIHRoaXMuc2h1ZmZsZWRMaXN0ID0gdGhpcy5nZXRTaHVmZmxlZExpc3QoKQogICAgICAgIH0KICAgICAgICB0aGlzLnBsYXlJbmRleCsrCiAgICAgICAgdGhpcy50aGVuUGxheSgpCiAgICAgIH0gZWxzZSBpZiAodGhpcy5yZXBlYXRNb2RlID09PSBSRVBFQVQuUkVQRUFUX09ORSkgewogICAgICAgIHRoaXMudGhlblBsYXkoKQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMucGxheUluZGV4KysKICAgICAgICBpZiAodGhpcy5wbGF5SW5kZXggIT09IDApIHsKICAgICAgICAgIHRoaXMudGhlblBsYXkoKQogICAgICAgIH0gZWxzZSBpZiAodGhpcy5zaHVmZmxlZExpc3QubGVuZ3RoID09PSAxKSB7CiAgICAgICAgICB0aGlzLmF1ZGlvLmN1cnJlbnRUaW1lID0gMAogICAgICAgIH0KICAgICAgfQogICAgfSwKCiAgICBpbml0QXVkaW8gKCkgewoKICAgICAgLy8gc2luY2UgMS40LjAgQXVkaW8gYXR0cmlidXRlcyBhcyBwcm9wcwoKICAgICAgdGhpcy5hdWRpby5jb250cm9scyA9IHRoaXMuc2hvdWxkU2hvd05hdGl2ZUNvbnRyb2xzCiAgICAgIHRoaXMuYXVkaW8ubXV0ZWQgPSB0aGlzLm11dGVkCiAgICAgIHRoaXMuYXVkaW8ucHJlbG9hZCA9IHRoaXMucHJlbG9hZAogICAgICB0aGlzLmF1ZGlvLnZvbHVtZSA9IHRoaXMudm9sdW1lCgoKICAgICAgLy8gc2luY2UgMS40LjAgRW1pdCBhcyBtYW55IG5hdGl2ZSBhdWRpbyBldmVudHMKICAgICAgLy8gQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9HdWlkZS9FdmVudHMvTWVkaWFfZXZlbnRzCgogICAgICBjb25zdCBtZWRpYUV2ZW50cyA9IFsKICAgICAgICAnYWJvcnQnLAogICAgICAgICdjYW5wbGF5JywgJ2NhbnBsYXl0aHJvdWdoJywKICAgICAgICAnZHVyYXRpb25jaGFuZ2UnLAogICAgICAgICdlbXB0aWVkJywgJ2VuY3J5cHRlZCcsICdlbmRlZCcsICdlcnJvcicsCiAgICAgICAgJ2ludGVycnVwdGJlZ2luJywgJ2ludGVycnVwdGVuZCcsCiAgICAgICAgJ2xvYWRlZGRhdGEnLCAnbG9hZGVkbWV0YWRhdGEnLCAnbG9hZHN0YXJ0JywKICAgICAgICAnbW96YXVkaW9hdmFpbGFibGUnLAogICAgICAgICdwYXVzZScsICdwbGF5JywgJ3BsYXlpbmcnLCAncHJvZ3Jlc3MnLAogICAgICAgICdyYXRlY2hhbmdlJywKICAgICAgICAnc2Vla2VkJywgJ3NlZWtpbmcnLCAnc3RhbGxlZCcsICdzdXNwZW5kJywKICAgICAgICAndGltZXVwZGF0ZScsCiAgICAgICAgJ3ZvbHVtZWNoYW5nZScsCiAgICAgICAgJ3dhaXRpbmcnLAogICAgICBdCiAgICAgIG1lZGlhRXZlbnRzLmZvckVhY2goZXZlbnQgPT4gewogICAgICAgIHRoaXMuYXVkaW8uYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgZSA9PiB0aGlzLiRlbWl0KGV2ZW50LCBlKSkKICAgICAgfSkKCgogICAgICAvLyBldmVudCBoYW5kbGVycwogICAgICAvLyB0aGV5IGRvbid0IGVtaXQgbmF0aXZlIG1lZGlhIGV2ZW50cwoKICAgICAgdGhpcy5hdWRpby5hZGRFdmVudExpc3RlbmVyKCdwbGF5JywgdGhpcy5vbkF1ZGlvUGxheSkKICAgICAgdGhpcy5hdWRpby5hZGRFdmVudExpc3RlbmVyKCdwYXVzZScsIHRoaXMub25BdWRpb1BhdXNlKQogICAgICB0aGlzLmF1ZGlvLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgdGhpcy5vbkF1ZGlvUGF1c2UpCiAgICAgIHRoaXMuYXVkaW8uYWRkRXZlbnRMaXN0ZW5lcignd2FpdGluZycsIHRoaXMub25BdWRpb1dhaXRpbmcpCiAgICAgIHRoaXMuYXVkaW8uYWRkRXZlbnRMaXN0ZW5lcignY2FucGxheScsIHRoaXMub25BdWRpb0NhbnBsYXkpCiAgICAgIHRoaXMuYXVkaW8uYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCB0aGlzLm9uQXVkaW9Qcm9ncmVzcykKICAgICAgdGhpcy5hdWRpby5hZGRFdmVudExpc3RlbmVyKCdkdXJhdGlvbmNoYW5nZScsIHRoaXMub25BdWRpb0R1cmF0aW9uQ2hhbmdlKQogICAgICB0aGlzLmF1ZGlvLmFkZEV2ZW50TGlzdGVuZXIoJ3NlZWtpbmcnLCB0aGlzLm9uQXVkaW9TZWVraW5nKQogICAgICB0aGlzLmF1ZGlvLmFkZEV2ZW50TGlzdGVuZXIoJ3NlZWtlZCcsIHRoaXMub25BdWRpb1NlZWtlZCkKICAgICAgdGhpcy5hdWRpby5hZGRFdmVudExpc3RlbmVyKCd0aW1ldXBkYXRlJywgdGhpcy5vbkF1ZGlvVGltZVVwZGF0ZSkKICAgICAgdGhpcy5hdWRpby5hZGRFdmVudExpc3RlbmVyKCd2b2x1bWVjaGFuZ2UnLCB0aGlzLm9uQXVkaW9Wb2x1bWVDaGFuZ2UpCiAgICAgIHRoaXMuYXVkaW8uYWRkRXZlbnRMaXN0ZW5lcignZW5kZWQnLCB0aGlzLm9uQXVkaW9FbmRlZCkKCgogICAgICBpZiAodGhpcy5jdXJyZW50TXVzaWMpIHsKICAgICAgICB0aGlzLmF1ZGlvLnNyYyA9IHRoaXMuY3VycmVudE11c2ljLnNyYyB8fCB0aGlzLmN1cnJlbnRNdXNpYy51cmwKICAgICAgfQogICAgfSwKCiAgICBzZXRTZWxmQWRhcHRpbmdUaGVtZSAoKSB7CiAgICAgIC8vIGF1dG8gdGhlbWUgYWNjb3JkaW5nIHRvIGN1cnJlbnQgbXVzaWMgY292ZXIgaW1hZ2UKICAgICAgaWYgKCh0aGlzLmN1cnJlbnRNdXNpYy50aGVtZSB8fCB0aGlzLnRoZW1lKSA9PT0gJ3BpYycpIHsKICAgICAgICBjb25zdCBwaWMgPSB0aGlzLmN1cnJlbnRNdXNpYy5waWMKICAgICAgICAvLyB1c2UgY2FjaGUKICAgICAgICBpZiAocGljVGhlbWVDYWNoZVtwaWNdKSB7CiAgICAgICAgICB0aGlzLnNlbGZBZGFwdGluZ1RoZW1lID0gcGljVGhlbWVDYWNoZVtwaWNdCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIG5ldyBDb2xvclRoaWVmKCkuZ2V0Q29sb3JBc3luYyhwaWMsIChbciwgZywgYl0pID0+IHsKICAgICAgICAgICAgICBwaWNUaGVtZUNhY2hlW3BpY10gPSBgcmdiKCR7cn0sICR7Z30sICR7Yn0pYAogICAgICAgICAgICAgIHRoaXMuc2VsZkFkYXB0aW5nVGhlbWUgPSBgcmdiKCR7cn0sICR7Z30sICR7Yn0pYAogICAgICAgICAgICB9KQogICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICB3YXJuKCdjb2xvci10aGllZiBpcyByZXF1aXJlZCB0byBzdXBwb3J0IHNlbGYtYWRhcHRpbmcgdGhlbWUnKQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnNlbGZBZGFwdGluZ1RoZW1lID0gbnVsbAogICAgICB9CiAgICB9LAogIH0sCiAgd2F0Y2g6IHsKICAgIG11c2ljIChtdXNpYykgewogICAgICB0aGlzLmludGVybmFsTXVzaWMgPSBtdXNpYwogICAgfSwKCiAgICBjdXJyZW50TXVzaWM6IHsKICAgICAgaGFuZGxlciAobXVzaWMpIHsKICAgICAgICAvLyBhc3luYwogICAgICAgIHRoaXMuc2V0U2VsZkFkYXB0aW5nVGhlbWUoKQoKICAgICAgICBjb25zdCBzcmMgPSBtdXNpYy5zcmMgfHwgbXVzaWMudXJsCiAgICAgICAgLy8gSExTIHN1cHBvcnQKICAgICAgICBpZiAoL1wubTN1OCg/PSgjfFw/fCQpKS8udGVzdChzcmMpKSB7CiAgICAgICAgICBpZiAodGhpcy5hdWRpby5jYW5QbGF5VHlwZSgnYXBwbGljYXRpb24veC1tcGVnVVJMJykgfHwgdGhpcy5hdWRpby5jYW5QbGF5VHlwZSgnYXBwbGljYXRpb24vdm5kLmFwcGxlLm1wZWdVUkwnKSkgewogICAgICAgICAgICB0aGlzLmF1ZGlvLnNyYyA9IHNyYwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICBjb25zdCBIbHMgPSByZXF1aXJlKCdobHMuanMnKQogICAgICAgICAgICAgIGlmIChIbHMuaXNTdXBwb3J0ZWQoKSkgewogICAgICAgICAgICAgICAgaWYgKCF0aGlzLmhscykgewogICAgICAgICAgICAgICAgICB0aGlzLmhscyA9IG5ldyBIbHMoKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdGhpcy5obHMubG9hZFNvdXJjZShzcmMpCiAgICAgICAgICAgICAgICB0aGlzLmhscy5hdHRhY2hNZWRpYSh0aGlzLmF1ZGlvKQogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB3YXJuKCdITFMgaXMgbm90IHN1cHBvcnRlZCBvbiB5b3VyIGJyb3dzZXInKQogICAgICAgICAgICAgICAgdGhpcy5hdWRpby5zcmMgPSBzcmMKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICB3YXJuKCdobHMuanMgaXMgcmVxdWlyZWQgdG8gc3VwcG9ydCBtM3U4JykKICAgICAgICAgICAgICB0aGlzLmF1ZGlvLnNyYyA9IHNyYwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuYXVkaW8uc3JjID0gc3JjCiAgICAgICAgfQogICAgICAgIC8vIHNlbGYtYWRhcHRpbmcgdGhlbWUgY29sb3IKICAgICAgfSwKICAgIH0sCgogICAgLy8gc2luY2UgMS40LjAKICAgIC8vIG9ic2VydmUgY29udHJvbHMsIG11dGVkLCBwcmVsb2FkLCB2b2x1bWUKCiAgICBzaG91bGRTaG93TmF0aXZlQ29udHJvbHMgKHZhbCkgewogICAgICB0aGlzLmF1ZGlvLmNvbnRyb2xzID0gdmFsCiAgICB9LAogICAgaXNBdWRpb011dGVkICh2YWwpIHsKICAgICAgdGhpcy5hdWRpby5tdXRlZCA9IHZhbAogICAgfSwKICAgIHByZWxvYWQgKHZhbCkgewogICAgICB0aGlzLmF1ZGlvLnByZWxvYWQgPSB2YWwKICAgIH0sCiAgICBhdWRpb1ZvbHVtZSAodmFsKSB7CiAgICAgIHRoaXMuYXVkaW8udm9sdW1lID0gdmFsCiAgICB9LAoKICAgIC8vIHN5bmMgbXV0ZWQsIHZvbHVtZQoKICAgIG11dGVkICh2YWwpIHsKICAgICAgdGhpcy5pbnRlcm5hbE11dGVkID0gdmFsCiAgICB9LAogICAgdm9sdW1lICh2YWwpIHsKICAgICAgdGhpcy5pbnRlcm5hbFZvbHVtZSA9IHZhbAogICAgfSwKCgogICAgLy8gc3luYyBzaHVmZmxlLCByZXBlYXQKICAgIHNodWZmbGUgKHZhbCkgewogICAgICB0aGlzLmludGVybmFsU2h1ZmZsZSA9IHZhbAogICAgfSwKICAgIHJlcGVhdCAodmFsKSB7CiAgICAgIHRoaXMuaW50ZXJuYWxSZXBlYXQgPSB2YWwKICAgIH0sCiAgfSwKICBiZWZvcmVDcmVhdGUgKCkgewogICAgaWYgKCFWdWVBUGxheWVyLmRpc2FibGVWZXJzaW9uQmFkZ2UgJiYgIXZlcnNpb25CYWRnZVByaW50ZWQpIHsKICAgICAgLy8gdmVyc2lvbiBiYWRnZQogICAgICBjb25zb2xlLmxvZyhgXG5cbiAlYyBWdWUtQVBsYXllciAke1ZFUlNJT059ICVjIHZ1ZS1hcGxheWVyLmpzLm9yZyBcbmAsICdjb2xvcjogI2ZmZjsgYmFja2dyb3VuZDojNDFiODgzOyBwYWRkaW5nOjVweCAwOycsICdjb2xvcjogI2ZmZjsgYmFja2dyb3VuZDogIzM1NDk1ZTsgcGFkZGluZzo1cHggMDsnKQogICAgICB2ZXJzaW9uQmFkZ2VQcmludGVkID0gdHJ1ZQogICAgfQogIH0sCiAgY3JlYXRlZCAoKSB7CiAgICB0aGlzLnNodWZmbGVkTGlzdCA9IHRoaXMuZ2V0U2h1ZmZsZWRMaXN0KCkKICB9LAogIG1vdW50ZWQgKCkgewogICAgdGhpcy5pbml0QXVkaW8oKQogICAgdGhpcy5zZXRTZWxmQWRhcHRpbmdUaGVtZSgpCiAgICBpZiAodGhpcy5hdXRvcGxheSkgdGhpcy5wbGF5KCkKICB9LAogIGJlZm9yZURlc3Ryb3kgKCkgewogICAgaWYgKGFjdGl2ZU11dGV4ID09PSB0aGlzKSB7CiAgICAgIGFjdGl2ZU11dGV4ID0gbnVsbAogICAgfQogICAgaWYgKHRoaXMuaGxzKSB7CiAgICAgIHRoaXMuaGxzLmRlc3Ryb3koKQogICAgfQogIH0sCn0KCmV4cG9ydCBkZWZhdWx0IFZ1ZUFQbGF5ZXIKCg=="},{"version":3,"sources":["vue-aplayer.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6DA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"vue-aplayer.vue","sourceRoot":"node_modules/vue-aplayer/src","sourcesContent":["<template>\n  <div\n    class=\"aplayer\"\n    :class=\"{\n      'aplayer-narrow': isMiniMode,\n      'aplayer-withlist' : !isMiniMode && musicList.length > 0,\n      'aplayer-withlrc': !isMiniMode && (!!$slots.display || shouldShowLrc),\n      'aplayer-float': isFloatMode,\n      'aplayer-loading': isPlaying && isLoading\n    }\"\n    :style=\"floatStyleObj\"\n  >\n    <div class=\"aplayer-body\">\n      <thumbnail\n        :pic=\"currentMusic.pic\"\n        :playing=\"isPlaying\"\n        :enable-drag=\"isFloatMode\"\n        :theme=\"currentTheme\"\n        @toggleplay=\"toggle\"\n        @dragbegin=\"onDragBegin\"\n        @dragging=\"onDragAround\"\n      />\n      <div class=\"aplayer-info\" v-show=\"!isMiniMode\">\n        <div class=\"aplayer-music\">\n          <span class=\"aplayer-title\">{{ currentMusic.title || 'Untitled' }}</span>\n          <span class=\"aplayer-author\">{{ currentMusic.artist || currentMusic.author || 'Unknown' }}</span>\n        </div>\n        <slot name=\"display\" :current-music=\"currentMusic\" :play-stat=\"playStat\">\n          <lyrics :current-music=\"currentMusic\" :play-stat=\"playStat\" v-if=\"shouldShowLrc\" />\n        </slot>\n        <controls\n          :shuffle=\"shouldShuffle\"\n          :repeat=\"repeatMode\"\n          :stat=\"playStat\"\n          :volume=\"audioVolume\"\n          :muted=\"isAudioMuted\"\n          :theme=\"currentTheme\"\n          @toggleshuffle=\"shouldShuffle = !shouldShuffle\"\n          @togglelist=\"showList = !showList\"\n          @togglemute=\"toggleMute\"\n          @setvolume=\"setAudioVolume\"\n          @dragbegin=\"onProgressDragBegin\"\n          @dragend=\"onProgressDragEnd\"\n          @dragging=\"onProgressDragging\"\n          @nextmode=\"setNextMode\"\n        />\n      </div>\n    </div>\n    <audio ref=\"audio\"></audio>\n    <music-list\n      :show=\"showList && !isMiniMode\"\n      :current-music=\"currentMusic\"\n      :music-list=\"musicList\"\n      :play-index=\"playIndex\"\n      :listmaxheight=\"listmaxheight || listMaxHeight\"\n      :theme=\"currentTheme\"\n      @selectsong=\"onSelectSong\"\n    />\n  </div>\n</template>\n<script type=\"text/babel\">\n  import Vue from 'vue'\n  import Thumbnail from './components/aplayer-thumbnail.vue'\n  import MusicList from './components/aplayer-list.vue'\n  import Controls from './components/aplayer-controller.vue'\n  import Lyrics from './components/aplayer-lrc.vue'\n  import { deprecatedProp, versionCompare, warn } from './utils'\n\n  let versionBadgePrinted = false\n  const canUseSync = versionCompare(Vue.version, '2.3.0') >= 0\n\n  /**\n   * memorize self-adapting theme for cover image urls\n   * @type {Object.<url, rgb()>}\n   */\n  const picThemeCache = {}\n\n  // mutex playing instance\n  let activeMutex = null\n\n\n  const REPEAT = {\n    NONE: 'none',\n    MUSIC: 'music',\n    LIST: 'list',\n    NO_REPEAT: 'no-repeat',\n    REPEAT_ONE: 'repeat-one',\n    REPEAT_ALL: 'repeat-all',\n  };\n\n  const VueAPlayer = {\n    name: 'APlayer',\n    disableVersionBadge: false,\n    components: {\n      Thumbnail,\n      Controls,\n      MusicList,\n      Lyrics,\n    },\n    props: {\n      music: {\n        type: Object,\n        required: true,\n        validator (song) {\n          if (song.url) {\n            deprecatedProp('music.url', '1.4.0', 'music.src')\n          }\n          if (song.author) {\n            deprecatedProp('music.author', '1.4.1', 'music.artist')\n          }\n          return song.src || song.url\n        },\n      },\n      list: {\n        type: Array,\n        default () {\n          return []\n        },\n      },\n      mini: {\n        type: Boolean,\n        default: false,\n      },\n      showLrc: {\n        type: Boolean,\n        default: false,\n      },\n      mutex: {\n        type: Boolean,\n        default: true,\n      },\n      theme: {\n        type: String,\n        default: '#41b883',\n      },\n\n      listMaxHeight: String,\n      /**\n       * @since 1.4.1\n       * Fold playlist initially\n       */\n      listFolded: {\n        type: Boolean,\n        default: false,\n      },\n\n      /**\n       * @since 1.2.0 Float mode\n       */\n      float: {\n        type: Boolean,\n        default: false,\n      },\n\n      // Audio attributes as props\n      // since 1.4.0\n      // autoplay controls muted preload volume\n      // autoplay is not observable\n\n      /**\n       * @since 1.4.0\n       * not observable\n       */\n      autoplay: {\n        type: Boolean,\n        default: false,\n      },\n\n      /**\n       * @since 1.4.0\n       * whether to show native audio controls below Vue-APlayer\n       * only work in development environment and not mini mode\n       *\n       * observable\n       */\n      controls: {\n        type: Boolean,\n        default: false,\n      },\n\n      /**\n       * @since 1.4.0\n       * observable, sync\n       */\n      muted: {\n        type: Boolean,\n        default: false,\n      },\n      /**\n       * @since 1.4.0\n       * observable\n       */\n      preload: String,\n\n      /**\n       * @since 1.4.0\n       * observable, sync\n       */\n      volume: {\n        type: Number,\n        default: 0.8,\n        validator (value) {\n          return value >= 0 && value <= 1\n        },\n      },\n\n      // play order control\n      // since 1.5.0\n\n      /**\n       * @since 1.5.0\n       * @see https://support.apple.com/en-us/HT207230\n       * twoWay\n       */\n      shuffle: {\n        type: Boolean,\n        default: false,\n      },\n      /**\n       * @since 1.5.0\n       * @see https://support.apple.com/en-us/HT207230\n       * twoWay\n       */\n      repeat: {\n        type: String,\n        default: REPEAT.NO_REPEAT,\n      },\n\n\n      // deprecated props\n\n      /**\n       * @deprecated since 1.1.2, use listMaxHeight instead\n       */\n      listmaxheight: {\n        type: String,\n        validator (value) {\n          if (value) {\n            deprecatedProp('listmaxheight', '1.1.2', 'listMaxHeight')\n          }\n          return true\n        },\n      },\n      /**\n       * @deprecated since 1.1.2, use mini instead\n       */\n      narrow: {\n        type: Boolean,\n        default: false,\n        validator (value) {\n          if (value) {\n            deprecatedProp('narrow', '1.1.2', 'mini')\n          }\n          return true\n        },\n      },\n      /**\n       * @deprecated since 1.2.2\n       */\n      showlrc: {\n        type: Boolean,\n        default: false,\n        validator (value) {\n          if (value) {\n            deprecatedProp('showlrc', '1.2.2', 'showLrc')\n          }\n          return true\n        },\n      },\n      /**\n       * @deprecated and REMOVED since 1.5.0\n       */\n      // mode: {\n      //   type: String,\n      //   default: 'circulation',\n      //   validator (value) {\n      //     if (value) {\n      //       deprecatedProp('mode', '1.5.0', 'shuffle and repeat')\n      //     }\n      //     return true\n      //   }\n      // },\n    },\n    data () {\n      return {\n        internalMusic: this.music,\n        isPlaying: false,\n        isSeeking: false,\n        wasPlayingBeforeSeeking: false,\n        isMobile: /mobile/i.test(window.navigator.userAgent),\n        playStat: {\n          duration: 0,\n          loadedTime: 0,\n          playedTime: 0,\n        },\n        showList: !this.listFolded,\n\n        // handle Promise returned from audio.play()\n        // @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/play\n        audioPlayPromise: Promise.resolve(),\n\n\n        // @since 1.2.0 float mode\n\n        floatOriginX: 0,\n        floatOriginY: 0,\n        floatOffsetLeft: 0,\n        floatOffsetTop: 0,\n\n\n        // @since 1.3.0 self adapting theme\n        selfAdaptingTheme: null,\n\n\n        // @since 1.4.0\n        // sync muted, volume\n\n        internalMuted: this.muted,\n        internalVolume: this.volume,\n\n        // @since 1.4.1\n        // Loading indicator\n        isLoading: false,\n\n\n        // @since 1.5.1\n        // sync shuffle, repeat\n        internalShuffle: this.shuffle,\n        internalRepeat: this.repeat,\n        // for shuffling\n        shuffledList: [],\n      }\n    },\n    computed: {\n      // alias for $refs.audio\n      audio () {\n        return this.$refs.audio\n      },\n\n      // sync music\n      currentMusic: {\n        get () {\n          return this.internalMusic\n        },\n        set (val) {\n          canUseSync && this.$emit('update:music', val)\n          this.internalMusic = val\n        },\n      },\n      // compatible for deprecated props\n      isMiniMode () {\n        return this.mini || this.narrow\n      },\n      shouldShowLrc () {\n        return this.showLrc || this.showlrc\n      },\n\n      // props wrappers\n\n      currentTheme () {\n        return this.selfAdaptingTheme || this.currentMusic.theme || this.theme\n      },\n      isFloatMode () {\n        return this.float && !this.isMobile\n      },\n      shouldAutoplay () {\n        if (this.isMobile) return false\n        return this.autoplay\n      },\n      musicList () {\n        return this.list\n      },\n      shouldShowNativeControls () {\n        return process.env.NODE_ENV !== 'production' &&\n          this.controls &&\n          !this.isMiniMode\n      },\n\n      // useful\n\n      floatStyleObj () {\n        // transform: translate(floatOffsetLeft, floatOffsetY)\n        return {\n          transform: `translate(${this.floatOffsetLeft}px, ${this.floatOffsetTop}px)`,\n          webkitTransform: `translate(${this.floatOffsetLeft}px, ${this.floatOffsetTop}px)`,\n        }\n      },\n      currentPicStyleObj () {\n        if (this.currentMusic && this.currentMusic.pic) {\n          return {\n            backgroundImage: `url(${this.currentMusic.pic})`,\n          }\n        }\n        return {}\n      },\n      loadProgress () {\n        if (this.playStat.duration === 0) return 0\n        return this.playStat.loadedTime / this.playStat.duration\n      },\n      playProgress () {\n        if (this.playStat.duration === 0) return 0\n        return this.playStat.playedTime / this.playStat.duration\n      },\n      playIndex: {\n        get () {\n          return this.shuffledList.indexOf(this.currentMusic)\n        },\n        set (val) {\n          this.currentMusic = this.shuffledList[val % this.shuffledList.length]\n        },\n      },\n      shouldRepeat () {\n        return this.repeatMode !== REPEAT.NO_REPEAT\n      },\n\n      // since 1.4.0\n      // sync muted, volume\n\n      isAudioMuted: {\n        get () {\n          return this.internalMuted\n        },\n        set (val) {\n          canUseSync && this.$emit('update:muted', val)\n          this.internalMuted = val\n        },\n      },\n      audioVolume: {\n        get () {\n          return this.internalVolume\n        },\n        set (val) {\n          canUseSync && this.$emit('update:volume', val)\n          this.internalVolume = val\n        },\n      },\n\n\n      // since 1.5.0\n      // sync shuffle, repeat\n      shouldShuffle: {\n        get () {\n          return this.internalShuffle\n        },\n        set (val) {\n          canUseSync && this.$emit('update:shuffle', val)\n          this.internalShuffle = val\n        },\n      },\n      repeatMode: {\n        get () {\n          switch (this.internalRepeat) {\n            case REPEAT.NONE:\n            case REPEAT.NO_REPEAT:\n              return REPEAT.NO_REPEAT\n            case REPEAT.MUSIC:\n            case REPEAT.REPEAT_ONE:\n              return REPEAT.REPEAT_ONE\n            default:\n              return REPEAT.REPEAT_ALL\n          }\n        },\n        set (val) {\n          canUseSync && this.$emit('update:repeat', val)\n          this.internalRepeat = val\n        },\n      },\n    },\n    methods: {\n      // Float mode\n\n      onDragBegin () {\n        this.floatOriginX = this.floatOffsetLeft\n        this.floatOriginY = this.floatOffsetTop\n      },\n      onDragAround ({ offsetLeft, offsetTop }) {\n        this.floatOffsetLeft = this.floatOriginX + offsetLeft\n        this.floatOffsetTop = this.floatOriginY + offsetTop\n      },\n\n      // functions\n\n      setNextMode () {\n        if (this.repeatMode === REPEAT.REPEAT_ALL) {\n          this.repeatMode = REPEAT.REPEAT_ONE\n        } else if (this.repeatMode === REPEAT.REPEAT_ONE) {\n          this.repeatMode = REPEAT.NO_REPEAT\n        } else {\n          this.repeatMode = REPEAT.REPEAT_ALL\n        }\n      },\n      thenPlay () {\n        this.$nextTick(() => {\n          this.play()\n        })\n      },\n\n      // controls\n\n      // play/pause\n\n      toggle () {\n        if (!this.audio.paused) {\n          this.pause()\n        } else {\n          this.play()\n        }\n      },\n      play () {\n        if (this.mutex) {\n          if (activeMutex && activeMutex !== this) {\n            activeMutex.pause()\n          }\n          activeMutex = this\n        }\n        // handle .play() Promise\n        const audioPlayPromise = this.audio.play()\n        if (audioPlayPromise) {\n          return this.audioPlayPromise = new Promise((resolve, reject) => {\n            // rejectPlayPromise is to force reject audioPlayPromise if it's still pending when pause() is called\n            this.rejectPlayPromise = reject\n            audioPlayPromise.then((res) => {\n              this.rejectPlayPromise = null\n              resolve(res)\n            }).catch(warn)\n          })\n        }\n      },\n      pause () {\n        this.audioPlayPromise\n          .then(() => {\n            this.audio.pause()\n          })\n          // Avoid force rejection throws Uncaught\n          .catch(() => {\n            this.audio.pause()\n          })\n\n        // audioPlayPromise is still pending\n        if (this.rejectPlayPromise) {\n          // force reject playPromise\n          this.rejectPlayPromise()\n          this.rejectPlayPromise = null\n        }\n      },\n\n      // progress bar\n\n      onProgressDragBegin (val) {\n        this.wasPlayingBeforeSeeking = this.isPlaying\n        this.pause()\n        this.isSeeking = true\n\n        // handle load failures\n        if (!isNaN(this.audio.duration)) {\n          this.audio.currentTime = this.audio.duration * val\n        }\n      },\n      onProgressDragging (val) {\n        if (isNaN(this.audio.duration)) {\n          this.playStat.playedTime = 0\n        } else {\n          this.audio.currentTime = this.audio.duration * val\n        }\n      },\n      onProgressDragEnd (val) {\n        this.isSeeking = false\n\n        if (this.wasPlayingBeforeSeeking) {\n          this.thenPlay()\n        }\n      },\n\n      // volume\n\n      toggleMute () {\n        this.setAudioMuted(!this.audio.muted)\n      },\n      setAudioMuted (val) {\n        this.audio.muted = val\n      },\n      setAudioVolume (val) {\n        this.audio.volume = val\n        if (val > 0) {\n          this.setAudioMuted(false)\n        }\n      },\n\n      // playlist\n\n      getShuffledList () {\n        if (!this.list.length) {\n          return [this.internalMusic]\n        }\n        let unshuffled = [...this.list]\n        if (!this.internalShuffle || unshuffled.length <= 1) {\n          return unshuffled\n        }\n\n        let indexOfCurrentMusic = unshuffled.indexOf(this.internalMusic)\n        if (unshuffled.length === 2 && indexOfCurrentMusic !== -1) {\n          if (indexOfCurrentMusic === 0) {\n            return unshuffled\n          } else {\n            return [this.internalMusic, unshuffled[0]]\n          }\n        }\n        // shuffle list\n        // @see https://stackoverflow.com/questions/6274339/how-can-i-shuffle-an-array\n        for (let i = unshuffled.length - 1; i > 0; i--) {\n          const j = Math.floor(Math.random() * (i + 1))\n          const tmp = unshuffled[i]\n          unshuffled[i] = unshuffled[j]\n          unshuffled[j] = tmp\n        }\n\n        // take currentMusic to first\n        if (indexOfCurrentMusic !== -1) {\n          indexOfCurrentMusic = unshuffled.indexOf(this.internalMusic)\n          if (indexOfCurrentMusic !== 0) {\n            [unshuffled[0], unshuffled[indexOfCurrentMusic]] = [unshuffled[indexOfCurrentMusic], unshuffled[0]]\n          }\n        }\n\n        return unshuffled\n      },\n\n      onSelectSong (song) {\n        if (this.currentMusic === song) {\n          this.toggle()\n        } else {\n          this.currentMusic = song\n          this.thenPlay()\n        }\n      },\n\n      // event handlers\n      // for keeping up with audio states\n\n      onAudioPlay () {\n        this.isPlaying = true\n      },\n      onAudioPause () {\n        this.isPlaying = false\n      },\n      onAudioWaiting () {\n        this.isLoading = true\n      },\n      onAudioCanplay () {\n        this.isLoading = false\n      },\n      onAudioDurationChange () {\n        if (this.audio.duration !== 1) {\n          this.playStat.duration = this.audio.duration\n        }\n      },\n      onAudioProgress () {\n        if (this.audio.buffered.length) {\n          this.playStat.loadedTime = this.audio.buffered.end(this.audio.buffered.length - 1)\n        } else {\n          this.playStat.loadedTime = 0\n        }\n      },\n      onAudioTimeUpdate () {\n        this.playStat.playedTime = this.audio.currentTime\n      },\n      onAudioSeeking () {\n        this.playStat.playedTime = this.audio.currentTime\n      },\n      onAudioSeeked () {\n        this.playStat.playedTime = this.audio.currentTime\n      },\n      onAudioVolumeChange () {\n        this.audioVolume = this.audio.volume\n        this.isAudioMuted = this.audio.muted\n      },\n      onAudioEnded () {\n        // determine next song according to shuffle and repeat\n        if (this.repeatMode === REPEAT.REPEAT_ALL) {\n          if (this.shouldShuffle && this.playIndex === this.shuffledList.length - 1) {\n            this.shuffledList = this.getShuffledList()\n          }\n          this.playIndex++\n          this.thenPlay()\n        } else if (this.repeatMode === REPEAT.REPEAT_ONE) {\n          this.thenPlay()\n        } else {\n          this.playIndex++\n          if (this.playIndex !== 0) {\n            this.thenPlay()\n          } else if (this.shuffledList.length === 1) {\n            this.audio.currentTime = 0\n          }\n        }\n      },\n\n      initAudio () {\n\n        // since 1.4.0 Audio attributes as props\n\n        this.audio.controls = this.shouldShowNativeControls\n        this.audio.muted = this.muted\n        this.audio.preload = this.preload\n        this.audio.volume = this.volume\n\n\n        // since 1.4.0 Emit as many native audio events\n        // @see https://developer.mozilla.org/en-US/docs/Web/Guide/Events/Media_events\n\n        const mediaEvents = [\n          'abort',\n          'canplay', 'canplaythrough',\n          'durationchange',\n          'emptied', 'encrypted', 'ended', 'error',\n          'interruptbegin', 'interruptend',\n          'loadeddata', 'loadedmetadata', 'loadstart',\n          'mozaudioavailable',\n          'pause', 'play', 'playing', 'progress',\n          'ratechange',\n          'seeked', 'seeking', 'stalled', 'suspend',\n          'timeupdate',\n          'volumechange',\n          'waiting',\n        ]\n        mediaEvents.forEach(event => {\n          this.audio.addEventListener(event, e => this.$emit(event, e))\n        })\n\n\n        // event handlers\n        // they don't emit native media events\n\n        this.audio.addEventListener('play', this.onAudioPlay)\n        this.audio.addEventListener('pause', this.onAudioPause)\n        this.audio.addEventListener('abort', this.onAudioPause)\n        this.audio.addEventListener('waiting', this.onAudioWaiting)\n        this.audio.addEventListener('canplay', this.onAudioCanplay)\n        this.audio.addEventListener('progress', this.onAudioProgress)\n        this.audio.addEventListener('durationchange', this.onAudioDurationChange)\n        this.audio.addEventListener('seeking', this.onAudioSeeking)\n        this.audio.addEventListener('seeked', this.onAudioSeeked)\n        this.audio.addEventListener('timeupdate', this.onAudioTimeUpdate)\n        this.audio.addEventListener('volumechange', this.onAudioVolumeChange)\n        this.audio.addEventListener('ended', this.onAudioEnded)\n\n\n        if (this.currentMusic) {\n          this.audio.src = this.currentMusic.src || this.currentMusic.url\n        }\n      },\n\n      setSelfAdaptingTheme () {\n        // auto theme according to current music cover image\n        if ((this.currentMusic.theme || this.theme) === 'pic') {\n          const pic = this.currentMusic.pic\n          // use cache\n          if (picThemeCache[pic]) {\n            this.selfAdaptingTheme = picThemeCache[pic]\n          } else {\n            try {\n              new ColorThief().getColorAsync(pic, ([r, g, b]) => {\n                picThemeCache[pic] = `rgb(${r}, ${g}, ${b})`\n                this.selfAdaptingTheme = `rgb(${r}, ${g}, ${b})`\n              })\n            } catch (e) {\n              warn('color-thief is required to support self-adapting theme')\n            }\n          }\n        } else {\n          this.selfAdaptingTheme = null\n        }\n      },\n    },\n    watch: {\n      music (music) {\n        this.internalMusic = music\n      },\n\n      currentMusic: {\n        handler (music) {\n          // async\n          this.setSelfAdaptingTheme()\n\n          const src = music.src || music.url\n          // HLS support\n          if (/\\.m3u8(?=(#|\\?|$))/.test(src)) {\n            if (this.audio.canPlayType('application/x-mpegURL') || this.audio.canPlayType('application/vnd.apple.mpegURL')) {\n              this.audio.src = src\n            } else {\n              try {\n                const Hls = require('hls.js')\n                if (Hls.isSupported()) {\n                  if (!this.hls) {\n                    this.hls = new Hls()\n                  }\n                  this.hls.loadSource(src)\n                  this.hls.attachMedia(this.audio)\n                } else {\n                  warn('HLS is not supported on your browser')\n                  this.audio.src = src\n                }\n              } catch (e) {\n                warn('hls.js is required to support m3u8')\n                this.audio.src = src\n              }\n            }\n          } else {\n            this.audio.src = src\n          }\n          // self-adapting theme color\n        },\n      },\n\n      // since 1.4.0\n      // observe controls, muted, preload, volume\n\n      shouldShowNativeControls (val) {\n        this.audio.controls = val\n      },\n      isAudioMuted (val) {\n        this.audio.muted = val\n      },\n      preload (val) {\n        this.audio.preload = val\n      },\n      audioVolume (val) {\n        this.audio.volume = val\n      },\n\n      // sync muted, volume\n\n      muted (val) {\n        this.internalMuted = val\n      },\n      volume (val) {\n        this.internalVolume = val\n      },\n\n\n      // sync shuffle, repeat\n      shuffle (val) {\n        this.internalShuffle = val\n      },\n      repeat (val) {\n        this.internalRepeat = val\n      },\n    },\n    beforeCreate () {\n      if (!VueAPlayer.disableVersionBadge && !versionBadgePrinted) {\n        // version badge\n        console.log(`\\n\\n %c Vue-APlayer ${VERSION} %c vue-aplayer.js.org \\n`, 'color: #fff; background:#41b883; padding:5px 0;', 'color: #fff; background: #35495e; padding:5px 0;')\n        versionBadgePrinted = true\n      }\n    },\n    created () {\n      this.shuffledList = this.getShuffledList()\n    },\n    mounted () {\n      this.initAudio()\n      this.setSelfAdaptingTheme()\n      if (this.autoplay) this.play()\n    },\n    beforeDestroy () {\n      if (activeMutex === this) {\n        activeMutex = null\n      }\n      if (this.hls) {\n        this.hls.destroy()\n      }\n    },\n  }\n\n  export default VueAPlayer\n\n</script>\n\n<style lang=\"scss\">\n  @import \"./scss/variables\";\n\n  .aplayer {\n    font-family: Arial, Helvetica, sans-serif;\n    color: #000;\n    background-color: #fff;\n    margin: 5px;\n    box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.07), 0 1px 5px 0 rgba(0, 0, 0, 0.1);\n    border-radius: 2px;\n    overflow: hidden;\n    user-select: none;\n    line-height: initial;\n\n    * {\n      box-sizing: content-box;\n    }\n\n    .aplayer-lrc-content {\n      display: none;\n    }\n\n    .aplayer-body {\n      display: flex;\n\n      position: relative;\n      .aplayer-info {\n        flex-grow: 1;\n        display: flex;\n        flex-direction: column;\n\n        text-align: start;\n        padding: 14px 7px 0 10px;\n        height: $aplayer-height;\n        box-sizing: border-box;\n        overflow: hidden;\n\n        .aplayer-music {\n          flex-grow: 1;\n\n          overflow: hidden;\n          white-space: nowrap;\n          text-overflow: ellipsis;\n          margin-left: 5px;\n          user-select: text;\n          cursor: default;\n          padding-bottom: 2px;\n\n          .aplayer-title {\n            font-size: 14px;\n          }\n\n          .aplayer-author {\n            font-size: 12px;\n            color: #666;\n          }\n        }\n\n        .aplayer-lrc {\n          z-index: 0;\n        }\n      }\n    }\n\n    audio[controls] {\n      display: block;\n      width: 100%;\n    }\n\n    // Mini mode\n    &.aplayer-narrow {\n      width: $aplayer-height;\n    }\n\n    &.aplayer-withlrc {\n      .aplayer-body {\n        .aplayer-pic {\n          height: $aplayer-height-lrc;\n          width: $aplayer-height-lrc;\n        }\n\n        .aplayer-info {\n          height: $aplayer-height-lrc;\n        }\n\n        .aplayer-info {\n          padding: 10px 7px 0 7px;\n        }\n      }\n    }\n\n    &.aplayer-withlist {\n      .aplayer-body {\n        .aplayer-info {\n          border-bottom: 1px solid #e9e9e9;\n        }\n\n        .aplayer-controller .aplayer-time .aplayer-icon.aplayer-icon-menu {\n          display: block;\n        }\n      }\n    }\n\n    /* floating player on top */\n    position: relative;\n    &.aplayer-float {\n      z-index: 1;\n    }\n  }\n\n  @keyframes aplayer-roll {\n    0% {\n      left: 0\n    }\n    100% {\n      left: -100%\n    }\n  }\n</style>"]}]}